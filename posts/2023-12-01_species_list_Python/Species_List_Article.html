<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.306">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Amanda Buyan,Dax Kellie">
<meta name="dcterms.date" content="2023-11-23">

<title>Generating species lists for Local Government Areas (LGAs) with counts using shape files</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Species_List_Article_files/libs/clipboard/clipboard.min.js"></script>
<script src="Species_List_Article_files/libs/quarto-html/quarto.js"></script>
<script src="Species_List_Article_files/libs/quarto-html/popper.min.js"></script>
<script src="Species_List_Article_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Species_List_Article_files/libs/quarto-html/anchor.min.js"></script>
<link href="Species_List_Article_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Species_List_Article_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Species_List_Article_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Species_List_Article_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Species_List_Article_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="style.css">
</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Generating species lists for Local Government Areas (LGAs) with counts using shape files</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Amanda Buyan,Dax Kellie </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 23, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>Species lists are important for individuals who want to report on what species there are in a particular area, and cross reference it with threatened species lists. This can be useful for governments, consultants and researchers.</p>
<p>In this post, we will show you how to use <code>galah-python</code> and <code>geopandas</code> to generate a species list for the LGA of Yass Valley in 2023, as well as a visualisation using <code>matplotlib</code> of all LGAs with names.</p>
<section id="generating-a-species-list-with-counts-for-the-yass-valley-in-2023-using-spatial-data-in-the-ala" class="level2">
<h2 class="anchored" data-anchor-id="generating-a-species-list-with-counts-for-the-yass-valley-in-2023-using-spatial-data-in-the-ala">Generating a species list with counts for the Yass Valley in 2023 using spatial data in the ALA</h2>
<p>First, we will set configurations for <code>galah-python</code>, as we want to be sure we are querying the ALA and not other living atlases for this exercise.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> galah</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>galah.galah_config(atlas <span class="op">=</span> <span class="st">"Australia"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we want to build our query for the <code>atlas_species()</code> function to generate the list. First, we know that we only want species for the year 2023 in this example. To check what filter we should use for our year, we will use one of <code>galah-python</code>’s many lookup functions, <code>search_all()</code>. We will use the <code>fields</code> argument, as this is what you will use the majority of the time to narrow the data you want to get from the ALA.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>galah.search_all(fields<span class="op">=</span><span class="st">"year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">link</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>year</td>
<td>The year in which an occurrence was observed. ...</td>
<td>field</td>
<td>https://github.com/AtlasOfLivingAustralia/ala-...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>endDayOfYear</td>
<td>http://rs.tdwg.org/dwc/terms/endDayOfYear</td>
<td>field</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>datePrecision</td>
<td>The precision of the date information for the ...</td>
<td>field</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>occurrenceYear</td>
<td>Year ranges for a search. Calculated based on ...</td>
<td>field</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>startDayOfYear</td>
<td>http://rs.tdwg.org/dwc/terms/startDayOfYear</td>
<td>field</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>namePublishedInYear</td>
<td>http://rs.tdwg.org/dwc/terms/namePublishedInYear</td>
<td>field</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>There are a number of options available, but we will choose the one called <code>year</code>, as that refers to the year in which an occurrence occurred and is what we want.</p>
<p>Before getting our species list, we will need to find out how to search for spatial data on Local Government Areas in the ALA. We will use the search term <code>Local Government Areas</code> to ensure we get only the relevant spatial data.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>galah.search_all(fields<span class="op">=</span><span class="st">"Local Government Areas"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">link</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>cl23</td>
<td>Local Government Areas 2012 deprecated LGA Bou...</td>
<td>layers</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>cl959</td>
<td>Local Government Areas 2011 Local Government A...</td>
<td>layers</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>cl2012</td>
<td>NSW Local Land Services Regions NSW Local Land...</td>
<td>layers</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>cl10923</td>
<td>Local Government Areas PSMA 2018 Local Governm...</td>
<td>layers</td>
<td></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We will be using <code>cl10923</code>, as this is the latest data on LGAs in the ALA. A note about spatial layers: Each spatial layer has a two letter code, along with a number to identify it. The abbreviations are as follows:</p>
<p><code>cl</code> = contextual layer (i.e.&nbsp;boundaries of LGAs, Indigenous Protected Areas, States/Territories etc.)</p>
<p><code>10923</code> = number associated with the spatial layer in the atlas</p>
<p>To get all possible values for this spatial layer, we will use another lookup function in <code>galah-python</code>: the <code>show_values()</code> function.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>galah.show_values(field<span class="op">=</span><span class="st">"cl10923"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">field</th>
<th data-quarto-table-cell-role="th">category</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>cl10923</td>
<td>BRISBANE CITY</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>cl10923</td>
<td>EAST GIPPSLAND SHIRE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>cl10923</td>
<td>GREATER GEELONG CITY</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>cl10923</td>
<td>PASTORAL UNINCORPORATED AREA</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>cl10923</td>
<td>MORETON BAY REGIONAL</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">555</td>
<td>cl10923</td>
<td>WAGAIT SHIRE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">556</td>
<td>cl10923</td>
<td>WOORABINDA ABORIGINAL SHIRE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">557</td>
<td>cl10923</td>
<td>WUJAL WUJAL ABORIGINAL SHIRE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">558</td>
<td>cl10923</td>
<td>CHERBOURG ABORIGINAL SHIRE</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">559</td>
<td>cl10923</td>
<td>BELYUEN SHIRE</td>
</tr>
</tbody>
</table>

<p>560 rows × 2 columns</p>
</div>
</div>
</div>
<p>Since there are 560 LGAs within Australia, it is a lot of data to filter through! Luckily, <code>galah-python</code> can handle this too with its accompanying lookup function: <code>search_values()</code>.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>galah.search_values(field<span class="op">=</span><span class="st">"cl10923"</span>,value<span class="op">=</span><span class="st">"YASS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">field</th>
<th data-quarto-table-cell-role="th">category</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>cl10923</td>
<td>YASS VALLEY COUNCIL</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Now we know that <code>YASS VALLEY COUNCIL</code> is the value we want for our spatial filter, we can then build our query to get a species list for Yass Valley:</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>galah.atlas_species(filters<span class="op">=</span>[<span class="st">"year=2023"</span>,<span class="st">"cl10923=YASS VALLEY COUNCIL"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Species</th>
<th data-quarto-table-cell-role="th">Species Name</th>
<th data-quarto-table-cell-role="th">Scientific Name Authorship</th>
<th data-quarto-table-cell-role="th">Taxon Rank</th>
<th data-quarto-table-cell-role="th">Kingdom</th>
<th data-quarto-table-cell-role="th">Phylum</th>
<th data-quarto-table-cell-role="th">Class</th>
<th data-quarto-table-cell-role="th">Order</th>
<th data-quarto-table-cell-role="th">Family</th>
<th data-quarto-table-cell-role="th">Genus</th>
<th data-quarto-table-cell-role="th">Vernacular Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://biodiversity.org.au/afd/taxa/5291343e-...</td>
<td>Gymnorhina tibicen</td>
<td>(Latham, 1801)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Artamidae</td>
<td>Gymnorhina</td>
<td>Australian Magpie</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://biodiversity.org.au/afd/taxa/97a59c84-...</td>
<td>Rhipidura (Rhipidura) albiscapa</td>
<td>Gould, 1840</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Rhipiduridae</td>
<td>Rhipidura</td>
<td>Grey Fantail</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://biodiversity.org.au/afd/taxa/760401df-...</td>
<td>Malurus (Malurus) cyaneus</td>
<td>(Ellis, 1782)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Maluridae</td>
<td>Malurus</td>
<td>Superb Fairy-wren</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://biodiversity.org.au/afd/taxa/2c33a1fd-...</td>
<td>Cacatua (Cacatua) galerita</td>
<td>(Latham, 1790)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Cacatuidae</td>
<td>Cacatua</td>
<td>Sulphur-crested Cockatoo</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://biodiversity.org.au/afd/taxa/5e0f496f-...</td>
<td>Platycercus (Platycercus) elegans</td>
<td>(Gmelin, 1788)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Psittacidae</td>
<td>Platycercus</td>
<td>Crimson Rosella</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">723</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis jonesii</td>
<td>G.N.Backh.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">724</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis multiflora</td>
<td>(D.L.Jones) G.N.Backh.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>Mountain Brown-tip Greenhood</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">725</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis pedunculata</td>
<td>R.Br.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>Maroonhood</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">726</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Thelymitra ixioides</td>
<td>Sw.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Thelymitra</td>
<td>Dotted Sun Orchid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">727</td>
<td>https://id.biodiversity.org.au/taxon/ausmoss/1...</td>
<td>Thuidiopsis sparsa</td>
<td>(Hook.f. &amp; Wilson) Broth.</td>
<td>species</td>
<td>Plantae</td>
<td>Bryophyta</td>
<td>Bryopsida</td>
<td>Hypnales</td>
<td>Thuidiaceae</td>
<td>Thuidiopsis</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>728 rows × 11 columns</p>
</div>
</div>
</div>
<p>To get the number of occurrences of each species, include the newly added argument <code>counts=True</code>. This defaults to <code>False</code>, as some people may only want species lists.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>galah.atlas_species(filters<span class="op">=</span>[<span class="st">"year=2023"</span>,<span class="st">"cl10923=YASS VALLEY COUNCIL"</span>],counts<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Species</th>
<th data-quarto-table-cell-role="th">Species Name</th>
<th data-quarto-table-cell-role="th">Scientific Name Authorship</th>
<th data-quarto-table-cell-role="th">Taxon Rank</th>
<th data-quarto-table-cell-role="th">Kingdom</th>
<th data-quarto-table-cell-role="th">Phylum</th>
<th data-quarto-table-cell-role="th">Class</th>
<th data-quarto-table-cell-role="th">Order</th>
<th data-quarto-table-cell-role="th">Family</th>
<th data-quarto-table-cell-role="th">Genus</th>
<th data-quarto-table-cell-role="th">Vernacular Name</th>
<th data-quarto-table-cell-role="th">Number of records</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://biodiversity.org.au/afd/taxa/5291343e-...</td>
<td>Gymnorhina tibicen</td>
<td>(Latham, 1801)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Artamidae</td>
<td>Gymnorhina</td>
<td>Australian Magpie</td>
<td>330</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://biodiversity.org.au/afd/taxa/97a59c84-...</td>
<td>Rhipidura (Rhipidura) albiscapa</td>
<td>Gould, 1840</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Rhipiduridae</td>
<td>Rhipidura</td>
<td>Grey Fantail</td>
<td>250</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://biodiversity.org.au/afd/taxa/760401df-...</td>
<td>Malurus (Malurus) cyaneus</td>
<td>(Ellis, 1782)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Maluridae</td>
<td>Malurus</td>
<td>Superb Fairy-wren</td>
<td>247</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://biodiversity.org.au/afd/taxa/2c33a1fd-...</td>
<td>Cacatua (Cacatua) galerita</td>
<td>(Latham, 1790)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Cacatuidae</td>
<td>Cacatua</td>
<td>Sulphur-crested Cockatoo</td>
<td>237</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://biodiversity.org.au/afd/taxa/5e0f496f-...</td>
<td>Platycercus (Platycercus) elegans</td>
<td>(Gmelin, 1788)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Psittacidae</td>
<td>Platycercus</td>
<td>Crimson Rosella</td>
<td>201</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">723</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis jonesii</td>
<td>G.N.Backh.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>NaN</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">724</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis multiflora</td>
<td>(D.L.Jones) G.N.Backh.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>Mountain Brown-tip Greenhood</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">725</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis pedunculata</td>
<td>R.Br.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>Maroonhood</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">726</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Thelymitra ixioides</td>
<td>Sw.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Thelymitra</td>
<td>Dotted Sun Orchid</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">727</td>
<td>https://id.biodiversity.org.au/taxon/ausmoss/1...</td>
<td>Thuidiopsis sparsa</td>
<td>(Hook.f. &amp; Wilson) Broth.</td>
<td>species</td>
<td>Plantae</td>
<td>Bryophyta</td>
<td>Bryopsida</td>
<td>Hypnales</td>
<td>Thuidiaceae</td>
<td>Thuidiopsis</td>
<td>NaN</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>728 rows × 12 columns</p>
</div>
</div>
</div>
<p>Now, to save this to a file that can be used for reporting, we can use the <code>pandas dataframe</code> built-in function <code>to_csv</code>.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>species_list_yass_valley_counts <span class="op">=</span> galah.atlas_species(filters<span class="op">=</span>[<span class="st">"year=2023"</span>,<span class="st">"cl10923=YASS VALLEY COUNCIL"</span>],counts<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>species_list_yass_valley_counts.to_csv(<span class="st">"Species_List_Yass_Valley_Counts_ALA_Spatial_Filter.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="generating-a-species-list-with-counts-for-the-yass-valley-in-2023-using-a-shapefile-from-the-australian-bureau-of-statistics." class="level2">
<h2 class="anchored" data-anchor-id="generating-a-species-list-with-counts-for-the-yass-valley-in-2023-using-a-shapefile-from-the-australian-bureau-of-statistics.">Generating a species list with counts for the Yass Valley in 2023 using a shapefile from the Australian Bureau of Statistics.</h2>
<p>Now, we will build the same query, but use the latest LGA data from the <a href="https://www.abs.gov.au/statistics/standards/australian-statistical-geography-standard-asgs-edition-3/jul2021-jun2026/access-and-downloads/digital-boundary-files">Australian Bureau of Statistics Digital Boundary files page</a>. For this tutorial, we will need the “Local Government Areas - 2023 - Shapefile” shapefile. Once you have downloaded it, unzip it to make sure you have the <code>LGA_2023_AUST_GDA2020.shp</code> file. Put it in a folder you can easily access.</p>
<p>To load this shapefile into <code>Python</code>, we need the aforementioned <code>geopandas</code>.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>LGAs_2023 <span class="op">=</span> gpd.read_file(<span class="st">"LGA_2023_AUST_GDA2020.shp"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>LGAs_2023</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">LGA_CODE23</th>
<th data-quarto-table-cell-role="th">LGA_NAME23</th>
<th data-quarto-table-cell-role="th">STE_CODE21</th>
<th data-quarto-table-cell-role="th">STE_NAME21</th>
<th data-quarto-table-cell-role="th">AUS_CODE21</th>
<th data-quarto-table-cell-role="th">AUS_NAME21</th>
<th data-quarto-table-cell-role="th">AREASQKM</th>
<th data-quarto-table-cell-role="th">LOCI_URI21</th>
<th data-quarto-table-cell-role="th">geometry</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>10050</td>
<td>Albury</td>
<td>1</td>
<td>New South Wales</td>
<td>AUS</td>
<td>Australia</td>
<td>305.6386</td>
<td>https://linked.data.gov.au/dataset/asgsed3/LGA...</td>
<td>POLYGON ((146.86566 -36.07292, 146.86512 -36.0...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>10180</td>
<td>Armidale</td>
<td>1</td>
<td>New South Wales</td>
<td>AUS</td>
<td>Australia</td>
<td>7809.4406</td>
<td>https://linked.data.gov.au/dataset/asgsed3/LGA...</td>
<td>POLYGON ((152.38816 -30.52639, 152.38812 -30.5...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>10250</td>
<td>Ballina</td>
<td>1</td>
<td>New South Wales</td>
<td>AUS</td>
<td>Australia</td>
<td>484.9692</td>
<td>https://linked.data.gov.au/dataset/asgsed3/LGA...</td>
<td>MULTIPOLYGON (((153.57106 -28.87381, 153.57106...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>10300</td>
<td>Balranald</td>
<td>1</td>
<td>New South Wales</td>
<td>AUS</td>
<td>Australia</td>
<td>21690.7493</td>
<td>https://linked.data.gov.au/dataset/asgsed3/LGA...</td>
<td>POLYGON ((143.00433 -33.78164, 143.01538 -33.7...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>10470</td>
<td>Bathurst</td>
<td>1</td>
<td>New South Wales</td>
<td>AUS</td>
<td>Australia</td>
<td>3817.8645</td>
<td>https://linked.data.gov.au/dataset/asgsed3/LGA...</td>
<td>POLYGON ((149.84877 -33.52784, 149.84864 -33.5...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">561</td>
<td>89799</td>
<td>Migratory - Offshore - Shipping (ACT)</td>
<td>8</td>
<td>Australian Capital Territory</td>
<td>AUS</td>
<td>Australia</td>
<td>NaN</td>
<td>https://linked.data.gov.au/dataset/asgsed3/LGA...</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">562</td>
<td>99399</td>
<td>Unincorp. Other Territories</td>
<td>9</td>
<td>Other Territories</td>
<td>AUS</td>
<td>Australia</td>
<td>105.8806</td>
<td>https://linked.data.gov.au/dataset/asgsed3/LGA...</td>
<td>MULTIPOLYGON (((167.94747 -29.12757, 167.94748...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">563</td>
<td>99499</td>
<td>No usual address (OT)</td>
<td>9</td>
<td>Other Territories</td>
<td>AUS</td>
<td>Australia</td>
<td>NaN</td>
<td>https://linked.data.gov.au/dataset/asgsed3/LGA...</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">564</td>
<td>99799</td>
<td>Migratory - Offshore - Shipping (OT)</td>
<td>9</td>
<td>Other Territories</td>
<td>AUS</td>
<td>Australia</td>
<td>NaN</td>
<td>https://linked.data.gov.au/dataset/asgsed3/LGA...</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">565</td>
<td>ZZZZZ</td>
<td>Outside Australia</td>
<td>Z</td>
<td>Outside Australia</td>
<td>ZZZ</td>
<td>Outside Australia</td>
<td>NaN</td>
<td>https://linked.data.gov.au/dataset/asgsed3/LGA...</td>
<td>None</td>
</tr>
</tbody>
</table>

<p>566 rows × 9 columns</p>
</div>
</div>
</div>
<p>Now that we have the shapefile loaded in, we need to ensure that it is in the correct Coordinate Reference System (CRS). What a CRS is is a way of representing coordinates of the earth (which are in three dimensions) into a two-dimensional representation. There are many available, and the ALA chooses to use the <a href="https://en.wikipedia.org/wiki/World_Geodetic_System">World Geodetic System 84, which is the standard used in cartography and GPS</a>. To ensure you are in the correct Coordinate Reference System, <code>geopandas</code> has a handy function called <code>to_crs()</code> that will automatically do the conversion for you. However, the <code>to_crs</code> function uses something called the EPSG system, which is named after the <a href="https://wiki.gis.com/wiki/index.php/European_Petroleum_Survey_Group">European Petroleum Survey Group</a>. EPSG was a scientific organisation specialising in <a href="https://en.wikipedia.org/wiki/EPSG_Geodetic_Parameter_Dataset">geospatial exercises relatied to oil exploration</a>. Though the European Petroleum Survey Group is no longer around, many things, including <code>geopandas</code>, use their CRS codes. The one corresponding to WGS84 is EPSG:4326. To change the Coordinate Reference System for a shapefile, simply enter the four-digit code as the argument to the <code>to_crs()</code> function.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>LGAs_2023 <span class="op">=</span> LGAs_2023.to_crs(<span class="dv">4326</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>LGAs_2023.plot(edgecolor <span class="op">=</span> <span class="st">"#5A5A5A"</span>, linewidth <span class="op">=</span> <span class="fl">0.5</span>, facecolor <span class="op">=</span> <span class="st">"white"</span>, figsize <span class="op">=</span> (<span class="dv">12</span>,<span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>&lt;Axes: &gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Species_List_Article_files/figure-html/cell-11-output-2.png" width="738" height="411"></p>
</div>
</div>
<p>Now that we can see all of the LGAs in New South Wales, we can then use <code>matplotlib</code> to show us the names of the LGAs in relation to where they are on the map.</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>NSW <span class="op">=</span> LGAs_2023[LGAs_2023[<span class="st">'STE_NAME21'</span>] <span class="op">==</span> <span class="st">"New South Wales"</span>]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>NSW.plot(edgecolor <span class="op">=</span> <span class="st">"#5A5A5A"</span>, linewidth <span class="op">=</span> <span class="fl">0.5</span>, facecolor <span class="op">=</span> <span class="st">"white"</span>, figsize <span class="op">=</span> (<span class="dv">14</span>,<span class="dv">10</span>))</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>NSW[<span class="st">'coords'</span>] <span class="op">=</span> NSW[<span class="st">'geometry'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.representative_point().coords[:][<span class="dv">0</span>] <span class="cf">if</span> x <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="cf">else</span> <span class="va">None</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> NSW.iterrows():</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row[<span class="st">'coords'</span>] <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        plt.annotate(text<span class="op">=</span>row[<span class="st">'LGA_NAME23'</span>], xy<span class="op">=</span>row[<span class="st">'coords'</span>],</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>                    horizontalalignment<span class="op">=</span><span class="st">'center'</span>, fontsize <span class="op">=</span> <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/buy003/anaconda3/envs/galah-dev/lib/python3.11/site-packages/geopandas/geodataframe.py:1543: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  super().__setitem__(key, value)</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Species_List_Article_files/figure-html/cell-12-output-2.png" width="1116" height="681"></p>
</div>
</div>
<p>For this exercise, we are going to choose the Yass Valley, though users can choose others of interest if the prefer. First, we need to isolate the shape of Yass Valley from the others. If we look at data columns in the NSW data frame:</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>NSW.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>Index(['LGA_CODE23', 'LGA_NAME23', 'STE_CODE21', 'STE_NAME21', 'AUS_CODE21',
       'AUS_NAME21', 'AREASQKM', 'LOCI_URI21', 'geometry', 'coords'],
      dtype='object')</code></pre>
</div>
</div>
<p>The two columns of interest are the ones titled <code>LGA_NAME23</code> and <code>geometry</code>. To select only the row with the LGA name <code>Yass Valley</code>, we need to write that in terms <code>pandas</code> will understand. To do this, we need to use the comparative <code>==</code> within the dataframe itself.</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>NSW[NSW[<span class="st">'LGA_NAME23'</span>] <span class="op">==</span> <span class="st">"Yass Valley"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">LGA_CODE23</th>
<th data-quarto-table-cell-role="th">LGA_NAME23</th>
<th data-quarto-table-cell-role="th">STE_CODE21</th>
<th data-quarto-table-cell-role="th">STE_NAME21</th>
<th data-quarto-table-cell-role="th">AUS_CODE21</th>
<th data-quarto-table-cell-role="th">AUS_NAME21</th>
<th data-quarto-table-cell-role="th">AREASQKM</th>
<th data-quarto-table-cell-role="th">LOCI_URI21</th>
<th data-quarto-table-cell-role="th">geometry</th>
<th data-quarto-table-cell-role="th">coords</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">127</td>
<td>18710</td>
<td>Yass Valley</td>
<td>1</td>
<td>New South Wales</td>
<td>AUS</td>
<td>Australia</td>
<td>3995.017</td>
<td>https://linked.data.gov.au/dataset/asgsed3/LGA...</td>
<td>POLYGON ((148.58152 -34.80679, 148.58153 -34.8...</td>
<td>(148.9412717523411, -34.92658608374451)</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Now that we have chosen the row that we want, we will now need to choose the column of data that we want. To choose both the row and the column we want, we will add another argument at the end of the dataframe in <code>[]</code> with the name of the column. In our case, we want to use the word <code>geometry</code>.</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>NSW[NSW[<span class="st">'LGA_NAME23'</span>] <span class="op">==</span> <span class="st">"Yass Valley"</span>][<span class="st">"geometry"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>127    POLYGON ((148.58152 -34.80679, 148.58153 -34.8...
Name: geometry, dtype: geometry</code></pre>
</div>
</div>
<p>Now that we have selected the row and the column we want, we need to tell Python the row number to get the individual cell’s data.</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>NSW[NSW[<span class="st">'LGA_NAME23'</span>] <span class="op">==</span> <span class="st">"Yass Valley"</span>][<span class="st">"geometry"</span>][<span class="dv">127</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<p><img src="Species_List_Article_files/figure-html/cell-16-output-1.svg" class="img-fluid"></p>
</div>
</div>
<p>Now that we have chosen the shape that we want, we will store it in a variable titled <code>yass_valley_geometry</code> to use for the rest of our queries.</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>yass_valley_geometry <span class="op">=</span> NSW[NSW[<span class="st">'LGA_NAME23'</span>] <span class="op">==</span> <span class="st">"Yass Valley"</span>][<span class="st">"geometry"</span>][<span class="dv">127</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we can get a species list of all species in the Yass Valley using the variable above.</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>galah.atlas_species(polygon<span class="op">=</span>yass_valley_geometry)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Species</th>
<th data-quarto-table-cell-role="th">Species Name</th>
<th data-quarto-table-cell-role="th">Scientific Name Authorship</th>
<th data-quarto-table-cell-role="th">Taxon Rank</th>
<th data-quarto-table-cell-role="th">Kingdom</th>
<th data-quarto-table-cell-role="th">Phylum</th>
<th data-quarto-table-cell-role="th">Class</th>
<th data-quarto-table-cell-role="th">Order</th>
<th data-quarto-table-cell-role="th">Family</th>
<th data-quarto-table-cell-role="th">Genus</th>
<th data-quarto-table-cell-role="th">Vernacular Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://biodiversity.org.au/afd/taxa/b6f829dd-...</td>
<td>Wallabia bicolor</td>
<td>(Desmarest, 1804)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Mammalia</td>
<td>Diprotodontia</td>
<td>Macropodidae</td>
<td>Wallabia</td>
<td>Swamp Wallaby</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://biodiversity.org.au/afd/taxa/5291343e-...</td>
<td>Gymnorhina tibicen</td>
<td>(Latham, 1801)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Artamidae</td>
<td>Gymnorhina</td>
<td>Australian Magpie</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://biodiversity.org.au/afd/taxa/760401df-...</td>
<td>Malurus (Malurus) cyaneus</td>
<td>(Ellis, 1782)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Maluridae</td>
<td>Malurus</td>
<td>Superb Fairy-wren</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://biodiversity.org.au/afd/taxa/2c33a1fd-...</td>
<td>Cacatua (Cacatua) galerita</td>
<td>(Latham, 1790)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Cacatuidae</td>
<td>Cacatua</td>
<td>Sulphur-crested Cockatoo</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://biodiversity.org.au/afd/taxa/9b4ad548-...</td>
<td>Eolophus roseicapilla</td>
<td>(Vieillot, 1817)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Cacatuidae</td>
<td>Eolophus</td>
<td>Galah</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4080</td>
<td>https://id.biodiversity.org.au/taxon/lichen/30...</td>
<td>Septotrapelia usnica</td>
<td>(Sipman) Kalb &amp; Bungartz</td>
<td>species</td>
<td>Fungi</td>
<td>Ascomycota</td>
<td>Lecanoromycetes</td>
<td>Lecanorales</td>
<td>Pilocarpaceae</td>
<td>Septotrapelia</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4081</td>
<td>https://id.biodiversity.org.au/taxon/lichen/30...</td>
<td>Caloplaca lateritia</td>
<td>(Taylor) Zahlbr.</td>
<td>species</td>
<td>Fungi</td>
<td>Ascomycota</td>
<td>Lecanoromycetes</td>
<td>Teloschistales</td>
<td>Teloschistaceae</td>
<td>Caloplaca</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4082</td>
<td>https://id.biodiversity.org.au/taxon/lichen/30...</td>
<td>Rhizocarpon intersitum</td>
<td>Arnold</td>
<td>species</td>
<td>Fungi</td>
<td>Ascomycota</td>
<td>Lecanoromycetes</td>
<td>Lecanorales</td>
<td>Rhizocarpaceae</td>
<td>Rhizocarpon</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4083</td>
<td>https://id.biodiversity.org.au/taxon/lichen/30...</td>
<td>Amandinea hypohyalina</td>
<td>Elix &amp; P.M.McCarthy</td>
<td>species</td>
<td>Fungi</td>
<td>Ascomycota</td>
<td>Lecanoromycetes</td>
<td>Teloschistales</td>
<td>Physciaceae</td>
<td>Amandinea</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4084</td>
<td>https://id.biodiversity.org.au/taxon/lichen/30...</td>
<td>Sarcogyne molongloensis</td>
<td>P.M.McCarthy &amp; Elix</td>
<td>species</td>
<td>Fungi</td>
<td>Ascomycota</td>
<td>Lecanoromycetes</td>
<td>Acarosporales</td>
<td>Acarosporaceae</td>
<td>Sarcogyne</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>4085 rows × 11 columns</p>
</div>
</div>
</div>
<p>If we want to get the number of times each species has been spotted in the Yass valley, we can then add the <code>counts=True</code> argument to <code>atlas_species()</code>.</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>galah.atlas_species(polygon<span class="op">=</span>yass_valley_geometry,counts<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Species</th>
<th data-quarto-table-cell-role="th">Species Name</th>
<th data-quarto-table-cell-role="th">Scientific Name Authorship</th>
<th data-quarto-table-cell-role="th">Taxon Rank</th>
<th data-quarto-table-cell-role="th">Kingdom</th>
<th data-quarto-table-cell-role="th">Phylum</th>
<th data-quarto-table-cell-role="th">Class</th>
<th data-quarto-table-cell-role="th">Order</th>
<th data-quarto-table-cell-role="th">Family</th>
<th data-quarto-table-cell-role="th">Genus</th>
<th data-quarto-table-cell-role="th">Vernacular Name</th>
<th data-quarto-table-cell-role="th">Number of records</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://biodiversity.org.au/afd/taxa/b6f829dd-...</td>
<td>Wallabia bicolor</td>
<td>(Desmarest, 1804)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Mammalia</td>
<td>Diprotodontia</td>
<td>Macropodidae</td>
<td>Wallabia</td>
<td>Swamp Wallaby</td>
<td>10296</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://biodiversity.org.au/afd/taxa/5291343e-...</td>
<td>Gymnorhina tibicen</td>
<td>(Latham, 1801)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Artamidae</td>
<td>Gymnorhina</td>
<td>Australian Magpie</td>
<td>8522</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://biodiversity.org.au/afd/taxa/760401df-...</td>
<td>Malurus (Malurus) cyaneus</td>
<td>(Ellis, 1782)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Maluridae</td>
<td>Malurus</td>
<td>Superb Fairy-wren</td>
<td>5985</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://biodiversity.org.au/afd/taxa/2c33a1fd-...</td>
<td>Cacatua (Cacatua) galerita</td>
<td>(Latham, 1790)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Cacatuidae</td>
<td>Cacatua</td>
<td>Sulphur-crested Cockatoo</td>
<td>5975</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://biodiversity.org.au/afd/taxa/9b4ad548-...</td>
<td>Eolophus roseicapilla</td>
<td>(Vieillot, 1817)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Cacatuidae</td>
<td>Eolophus</td>
<td>Galah</td>
<td>5644</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4080</td>
<td>https://id.biodiversity.org.au/taxon/lichen/30...</td>
<td>Septotrapelia usnica</td>
<td>(Sipman) Kalb &amp; Bungartz</td>
<td>species</td>
<td>Fungi</td>
<td>Ascomycota</td>
<td>Lecanoromycetes</td>
<td>Lecanorales</td>
<td>Pilocarpaceae</td>
<td>Septotrapelia</td>
<td>NaN</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4081</td>
<td>https://id.biodiversity.org.au/taxon/lichen/30...</td>
<td>Caloplaca lateritia</td>
<td>(Taylor) Zahlbr.</td>
<td>species</td>
<td>Fungi</td>
<td>Ascomycota</td>
<td>Lecanoromycetes</td>
<td>Teloschistales</td>
<td>Teloschistaceae</td>
<td>Caloplaca</td>
<td>NaN</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4082</td>
<td>https://id.biodiversity.org.au/taxon/lichen/30...</td>
<td>Rhizocarpon intersitum</td>
<td>Arnold</td>
<td>species</td>
<td>Fungi</td>
<td>Ascomycota</td>
<td>Lecanoromycetes</td>
<td>Lecanorales</td>
<td>Rhizocarpaceae</td>
<td>Rhizocarpon</td>
<td>NaN</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4083</td>
<td>https://id.biodiversity.org.au/taxon/lichen/30...</td>
<td>Amandinea hypohyalina</td>
<td>Elix &amp; P.M.McCarthy</td>
<td>species</td>
<td>Fungi</td>
<td>Ascomycota</td>
<td>Lecanoromycetes</td>
<td>Teloschistales</td>
<td>Physciaceae</td>
<td>Amandinea</td>
<td>NaN</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4084</td>
<td>https://id.biodiversity.org.au/taxon/lichen/30...</td>
<td>Sarcogyne molongloensis</td>
<td>P.M.McCarthy &amp; Elix</td>
<td>species</td>
<td>Fungi</td>
<td>Ascomycota</td>
<td>Lecanoromycetes</td>
<td>Acarosporales</td>
<td>Acarosporaceae</td>
<td>Sarcogyne</td>
<td>NaN</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>4085 rows × 12 columns</p>
</div>
</div>
</div>
<p>Say now you want to only look at specific years for either reporting reasons, or to see how observations differ from year to year in your LGA. You can add <code>filters</code> like we did in the previous example, with <code>year=2023</code>.</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>galah.atlas_species(polygon<span class="op">=</span>yass_valley_geometry,filters<span class="op">=</span><span class="st">"year=2023"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Species</th>
<th data-quarto-table-cell-role="th">Species Name</th>
<th data-quarto-table-cell-role="th">Scientific Name Authorship</th>
<th data-quarto-table-cell-role="th">Taxon Rank</th>
<th data-quarto-table-cell-role="th">Kingdom</th>
<th data-quarto-table-cell-role="th">Phylum</th>
<th data-quarto-table-cell-role="th">Class</th>
<th data-quarto-table-cell-role="th">Order</th>
<th data-quarto-table-cell-role="th">Family</th>
<th data-quarto-table-cell-role="th">Genus</th>
<th data-quarto-table-cell-role="th">Vernacular Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://biodiversity.org.au/afd/taxa/5291343e-...</td>
<td>Gymnorhina tibicen</td>
<td>(Latham, 1801)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Artamidae</td>
<td>Gymnorhina</td>
<td>Australian Magpie</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://biodiversity.org.au/afd/taxa/760401df-...</td>
<td>Malurus (Malurus) cyaneus</td>
<td>(Ellis, 1782)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Maluridae</td>
<td>Malurus</td>
<td>Superb Fairy-wren</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://biodiversity.org.au/afd/taxa/2c33a1fd-...</td>
<td>Cacatua (Cacatua) galerita</td>
<td>(Latham, 1790)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Cacatuidae</td>
<td>Cacatua</td>
<td>Sulphur-crested Cockatoo</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://biodiversity.org.au/afd/taxa/97a59c84-...</td>
<td>Rhipidura (Rhipidura) albiscapa</td>
<td>Gould, 1840</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Rhipiduridae</td>
<td>Rhipidura</td>
<td>Grey Fantail</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://biodiversity.org.au/afd/taxa/5e0f496f-...</td>
<td>Platycercus (Platycercus) elegans</td>
<td>(Gmelin, 1788)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Psittacidae</td>
<td>Platycercus</td>
<td>Crimson Rosella</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">781</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis jonesii</td>
<td>G.N.Backh.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">782</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis multiflora</td>
<td>(D.L.Jones) G.N.Backh.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>Mountain Brown-tip Greenhood</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">783</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis pedunculata</td>
<td>R.Br.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>Maroonhood</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">784</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Thelymitra ixioides</td>
<td>Sw.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Thelymitra</td>
<td>Dotted Sun Orchid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">785</td>
<td>https://id.biodiversity.org.au/taxon/ausmoss/1...</td>
<td>Thuidiopsis sparsa</td>
<td>(Hook.f. &amp; Wilson) Broth.</td>
<td>species</td>
<td>Plantae</td>
<td>Bryophyta</td>
<td>Bryopsida</td>
<td>Hypnales</td>
<td>Thuidiaceae</td>
<td>Thuidiopsis</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>786 rows × 11 columns</p>
</div>
</div>
</div>
<p>Now, to round out our query, we will add the <code>counts=True</code> argument to get the number of records for each species seen in the Yass Valley LGA for the year 2023.</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>galah.atlas_species(polygon<span class="op">=</span>yass_valley_geometry,filters<span class="op">=</span><span class="st">"year=2023"</span>,counts<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Species</th>
<th data-quarto-table-cell-role="th">Species Name</th>
<th data-quarto-table-cell-role="th">Scientific Name Authorship</th>
<th data-quarto-table-cell-role="th">Taxon Rank</th>
<th data-quarto-table-cell-role="th">Kingdom</th>
<th data-quarto-table-cell-role="th">Phylum</th>
<th data-quarto-table-cell-role="th">Class</th>
<th data-quarto-table-cell-role="th">Order</th>
<th data-quarto-table-cell-role="th">Family</th>
<th data-quarto-table-cell-role="th">Genus</th>
<th data-quarto-table-cell-role="th">Vernacular Name</th>
<th data-quarto-table-cell-role="th">Number of records</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://biodiversity.org.au/afd/taxa/5291343e-...</td>
<td>Gymnorhina tibicen</td>
<td>(Latham, 1801)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Artamidae</td>
<td>Gymnorhina</td>
<td>Australian Magpie</td>
<td>436</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://biodiversity.org.au/afd/taxa/760401df-...</td>
<td>Malurus (Malurus) cyaneus</td>
<td>(Ellis, 1782)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Maluridae</td>
<td>Malurus</td>
<td>Superb Fairy-wren</td>
<td>355</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://biodiversity.org.au/afd/taxa/2c33a1fd-...</td>
<td>Cacatua (Cacatua) galerita</td>
<td>(Latham, 1790)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Cacatuidae</td>
<td>Cacatua</td>
<td>Sulphur-crested Cockatoo</td>
<td>302</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://biodiversity.org.au/afd/taxa/97a59c84-...</td>
<td>Rhipidura (Rhipidura) albiscapa</td>
<td>Gould, 1840</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Rhipiduridae</td>
<td>Rhipidura</td>
<td>Grey Fantail</td>
<td>293</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://biodiversity.org.au/afd/taxa/5e0f496f-...</td>
<td>Platycercus (Platycercus) elegans</td>
<td>(Gmelin, 1788)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Psittacidae</td>
<td>Platycercus</td>
<td>Crimson Rosella</td>
<td>254</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">781</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis jonesii</td>
<td>G.N.Backh.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>NaN</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">782</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis multiflora</td>
<td>(D.L.Jones) G.N.Backh.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>Mountain Brown-tip Greenhood</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">783</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis pedunculata</td>
<td>R.Br.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>Maroonhood</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">784</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Thelymitra ixioides</td>
<td>Sw.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Thelymitra</td>
<td>Dotted Sun Orchid</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">785</td>
<td>https://id.biodiversity.org.au/taxon/ausmoss/1...</td>
<td>Thuidiopsis sparsa</td>
<td>(Hook.f. &amp; Wilson) Broth.</td>
<td>species</td>
<td>Plantae</td>
<td>Bryophyta</td>
<td>Bryopsida</td>
<td>Hypnales</td>
<td>Thuidiaceae</td>
<td>Thuidiopsis</td>
<td>NaN</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>786 rows × 12 columns</p>
</div>
</div>
</div>
<p>If you need a spreadsheet for reporting purposes, <code>pandas</code> dataframes allow you to save your data in a csv file.</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>yass_valley_species_list_counts <span class="op">=</span> galah.atlas_species(polygon<span class="op">=</span>yass_valley_geometry,filters<span class="op">=</span><span class="st">"year=2023"</span>,counts<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>yass_valley_species_list_counts.to_csv(<span class="st">"Yass_Valley_Species_List_Counts_2023.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="checking-your-yass-valley-2023-species-list-with-lists-of-species-that-are-on-conservation-andor-sensitive-species-lists" class="level2">
<h2 class="anchored" data-anchor-id="checking-your-yass-valley-2023-species-list-with-lists-of-species-that-are-on-conservation-andor-sensitive-species-lists">Checking your Yass Valley 2023 species list with lists of species that are on conservation and/or sensitive species lists</h2>
<p>Often, researchers, as well as consultants and those in the industry, will want to hceck if there are any species that are threatened or treated as sensitive species in their area of interest. ALA houses these lists for its useres, and we will show you how you can use this lists knowledge in <code>galah-python</code> to be able to select only species on these lists.</p>
<p>First, we will re-introduce the user to the <code>show_all()</code> function in <code>galah-python</code>, but instead of using the <code>fields</code> option, we will be using the <code>lists</code> option.</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>galah.show_all(lists<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">dataResourceUid</th>
<th data-quarto-table-cell-role="th">listName</th>
<th data-quarto-table-cell-role="th">listType</th>
<th data-quarto-table-cell-role="th">dateCreated</th>
<th data-quarto-table-cell-role="th">lastUpdated</th>
<th data-quarto-table-cell-role="th">lastUploaded</th>
<th data-quarto-table-cell-role="th">lastMatched</th>
<th data-quarto-table-cell-role="th">username</th>
<th data-quarto-table-cell-role="th">fullName</th>
<th data-quarto-table-cell-role="th">itemCount</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">category</th>
<th data-quarto-table-cell-role="th">generalisation</th>
<th data-quarto-table-cell-role="th">authority</th>
<th data-quarto-table-cell-role="th">sdsType</th>
<th data-quarto-table-cell-role="th">isAuthoritative</th>
<th data-quarto-table-cell-role="th">isInvasive</th>
<th data-quarto-table-cell-role="th">isThreatened</th>
<th data-quarto-table-cell-role="th">looseSearch</th>
<th data-quarto-table-cell-role="th">wkt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>dr1266</td>
<td>2 b) Protecting Nationally Significant Threate...</td>
<td>LOCAL_LIST</td>
<td>2014-07-31T22:26:43Z</td>
<td>2017-02-15T17:33:32Z</td>
<td>2017-02-15T17:33:32Z</td>
<td>2017-02-15T17:33:32Z</td>
<td>glen.johnson@depi.vic.gov.au</td>
<td>None</td>
<td>3</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>dr22919</td>
<td>2 species</td>
<td>TEST</td>
<td>2023-08-18T02:34:10Z</td>
<td>2023-08-18T02:34:10Z</td>
<td>2023-08-18T02:34:10Z</td>
<td>2023-08-18T02:34:10Z</td>
<td>chervil1307@gmail.com</td>
<td>None</td>
<td>2</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>dr23380</td>
<td>2016CR16_SpeciesList.csv</td>
<td>OTHER</td>
<td>2023-09-25T04:57:26Z</td>
<td>2023-09-25T04:57:26Z</td>
<td>2023-09-25T04:57:26Z</td>
<td>2023-09-25T04:57:26Z</td>
<td>rimpey@envirodna.com</td>
<td>None</td>
<td>23</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>dr23386</td>
<td>2016CR16_SpeciesList.csv</td>
<td>OTHER</td>
<td>2023-09-26T07:14:56Z</td>
<td>2023-09-26T07:14:56Z</td>
<td>2023-09-26T07:14:55Z</td>
<td>2023-09-26T07:14:55Z</td>
<td>rimpey@envirodna.com</td>
<td>None</td>
<td>23</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>dr8118</td>
<td>20MT-GA-T3-13 Enhancing the threatened woodlan...</td>
<td>LOCAL_LIST</td>
<td>2018-04-17T03:07:22Z</td>
<td>2018-04-17T03:07:22Z</td>
<td>2018-04-17T03:07:22Z</td>
<td>2018-04-17T03:07:22Z</td>
<td>mpotts@gavic.org.au</td>
<td>None</td>
<td>3</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1931</td>
<td>dr16119</td>
<td>Wyndham trees</td>
<td>SPECIES_CHARACTERS</td>
<td>2020-08-24T05:33:37Z</td>
<td>2022-11-21T03:16:48Z</td>
<td>2022-11-21T03:16:48Z</td>
<td>2022-11-21T03:16:48Z</td>
<td>vanessa.hutchins@wyndham.vic.gov.au</td>
<td>None</td>
<td>7</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1932</td>
<td>dr22339</td>
<td>YBG</td>
<td>OTHER</td>
<td>2023-07-19T23:56:57Z</td>
<td>2023-07-19T23:56:57Z</td>
<td>2023-07-19T23:56:57Z</td>
<td>2023-07-19T23:56:57Z</td>
<td>kai.henderson@erm.com</td>
<td>None</td>
<td>1</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1933</td>
<td>dr22693</td>
<td>Yellow-bellied glider</td>
<td>OTHER</td>
<td>2023-08-07T04:39:28Z</td>
<td>2023-08-07T04:39:28Z</td>
<td>2023-08-07T04:39:27Z</td>
<td>2023-08-07T04:39:27Z</td>
<td>kye.chamberlain@attexo.com.au</td>
<td>None</td>
<td>2</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1934</td>
<td>dr22702</td>
<td>Yellow-bellied Glider (south-eastern)</td>
<td>OTHER</td>
<td>2023-08-07T05:43:40Z</td>
<td>2023-08-07T05:43:40Z</td>
<td>2023-08-07T05:43:40Z</td>
<td>2023-08-07T05:43:40Z</td>
<td>kye.chamberlain@attexo.com.au</td>
<td>None</td>
<td>2</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1935</td>
<td>dr18631</td>
<td>Yilka Endemics</td>
<td>OTHER</td>
<td>2022-03-16T03:46:55Z</td>
<td>2022-03-16T03:46:55Z</td>
<td>2022-03-16T03:46:55Z</td>
<td>2022-03-16T03:46:55Z</td>
<td>hannahcliff@indigenousdesertalliance.com</td>
<td>None</td>
<td>6</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>None</td>
<td>None</td>
</tr>
</tbody>
</table>

<p>1936 rows × 20 columns</p>
</div>
</div>
</div>
<p>We can see in the columns that we get things like <code>listName</code> and <code>listType</code>, but a quick way to get to lists that are trusted is searching whether the list is authoritative or not. The Atlas has the <code>isAuthoritative</code> option to let the user know if the list comes from a trusted authority. One other criterion we can use for this exercise is the <code>isThreatened</code> column.</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>lists_all <span class="op">=</span> galah.show_all(lists<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>lists_authoritative <span class="op">=</span> lists_all[lists_all[<span class="st">'isAuthoritative'</span>] <span class="op">==</span> <span class="va">True</span>]</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>lists_authoritative_threatened <span class="op">=</span> lists_all[lists_all[<span class="st">'isThreatened'</span>] <span class="op">==</span> <span class="va">True</span>]</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>lists_authoritative_threatened</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">dataResourceUid</th>
<th data-quarto-table-cell-role="th">listName</th>
<th data-quarto-table-cell-role="th">listType</th>
<th data-quarto-table-cell-role="th">dateCreated</th>
<th data-quarto-table-cell-role="th">lastUpdated</th>
<th data-quarto-table-cell-role="th">lastUploaded</th>
<th data-quarto-table-cell-role="th">lastMatched</th>
<th data-quarto-table-cell-role="th">username</th>
<th data-quarto-table-cell-role="th">fullName</th>
<th data-quarto-table-cell-role="th">itemCount</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">category</th>
<th data-quarto-table-cell-role="th">generalisation</th>
<th data-quarto-table-cell-role="th">authority</th>
<th data-quarto-table-cell-role="th">sdsType</th>
<th data-quarto-table-cell-role="th">isAuthoritative</th>
<th data-quarto-table-cell-role="th">isInvasive</th>
<th data-quarto-table-cell-role="th">isThreatened</th>
<th data-quarto-table-cell-role="th">looseSearch</th>
<th data-quarto-table-cell-role="th">wkt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>dr7904</td>
<td>ACT Rare Plant List</td>
<td>CONSERVATION_LIST</td>
<td>2017-08-20T14:00:00Z</td>
<td>2022-03-16T03:47:07Z</td>
<td>2022-03-16T03:47:07Z</td>
<td>2022-03-16T03:47:07Z</td>
<td>jennifer.smits@act.gov.au</td>
<td>None</td>
<td>328</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">53</td>
<td>dr649</td>
<td>Australian Capital Territory : Conservation St...</td>
<td>CONSERVATION_LIST</td>
<td>2015-04-04T13:00:00Z</td>
<td>2023-08-29T01:56:17Z</td>
<td>2023-08-29T01:56:10Z</td>
<td>2023-08-29T01:56:10Z</td>
<td>rosemary.oconnor@csiro.au</td>
<td>None</td>
<td>66</td>
<td>Australian Capital Territory</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">139</td>
<td>dr18987</td>
<td>Bonn Convention Migratory Taxa</td>
<td>CONSERVATION_LIST</td>
<td>2022-05-11T14:00:00Z</td>
<td>2023-08-14T01:16:29Z</td>
<td>2023-08-14T01:16:27Z</td>
<td>2023-08-14T01:16:27Z</td>
<td>simon.sherrin@csiro.au</td>
<td>None</td>
<td>116</td>
<td></td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">178</td>
<td>dr18989</td>
<td>China-Australia Migratory Bird Agreement (CAMBA)</td>
<td>CONSERVATION_LIST</td>
<td>2022-05-11T14:00:00Z</td>
<td>2023-06-07T23:14:26Z</td>
<td>2023-06-07T23:14:26Z</td>
<td>2023-06-07T23:14:26Z</td>
<td>peggy.newman@csiro.au</td>
<td>None</td>
<td>63</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">219</td>
<td>dr2286</td>
<td>Conservation Status of New Zealand Indigenous ...</td>
<td>CONSERVATION_LIST</td>
<td>2015-05-04T22:38:52Z</td>
<td>2016-06-14T05:20:18Z</td>
<td>2016-06-14T05:20:18Z</td>
<td>2016-06-14T05:20:18Z</td>
<td>wiltona@landcareresearch.co.nz</td>
<td>None</td>
<td>2426</td>
<td>NZ</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>POLYGON((-176.0 -51.0,163.0 -51.0,163.0 -28.0,...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">295</td>
<td>dr656</td>
<td>EPBC Act Threatened Species</td>
<td>CONSERVATION_LIST</td>
<td>2015-04-04T13:00:00Z</td>
<td>2023-06-07T23:11:54Z</td>
<td>2023-06-07T23:11:54Z</td>
<td>2023-06-07T23:11:54Z</td>
<td>rosemary.oconnor@csiro.au</td>
<td>None</td>
<td>2011</td>
<td>Australia</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">566</td>
<td>dr18988</td>
<td>Japan-Australia Migratory Bird Agreement (JAMBA)</td>
<td>CONSERVATION_LIST</td>
<td>2022-05-11T14:00:00Z</td>
<td>2023-06-07T23:14:42Z</td>
<td>2023-06-07T23:14:42Z</td>
<td>2023-06-07T23:14:42Z</td>
<td>peggy.newman@csiro.au</td>
<td>None</td>
<td>74</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1449</td>
<td>dr650</td>
<td>New South Wales : Conservation Status</td>
<td>CONSERVATION_LIST</td>
<td>2015-04-04T13:00:00Z</td>
<td>2023-06-07T23:12:20Z</td>
<td>2023-06-07T23:12:20Z</td>
<td>2023-06-07T23:12:20Z</td>
<td>rosemary.oconnor@csiro.au</td>
<td>None</td>
<td>1026</td>
<td>New South Wales</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1496</td>
<td>dr651</td>
<td>Northern Territory : Conservation Status</td>
<td>CONSERVATION_LIST</td>
<td>2015-04-04T13:00:00Z</td>
<td>2023-07-12T04:26:50Z</td>
<td>2023-06-07T23:12:35Z</td>
<td>2023-06-07T23:12:35Z</td>
<td>rosemary.oconnor@csiro.au</td>
<td>None</td>
<td>204</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1608</td>
<td>dr2261</td>
<td>QLD EPBC</td>
<td>SENSITIVE_LIST</td>
<td>2015-04-19T04:44:40Z</td>
<td>2016-06-14T05:20:18Z</td>
<td>2016-06-14T05:20:18Z</td>
<td>2016-06-14T05:20:18Z</td>
<td>nathan.kirby@team.telstra.com</td>
<td>None</td>
<td>322</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>False</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1619</td>
<td>dr652</td>
<td>Queensland : Conservation Status</td>
<td>CONSERVATION_LIST</td>
<td>2015-04-04T13:00:00Z</td>
<td>2023-10-02T05:48:32Z</td>
<td>2023-10-02T05:48:20Z</td>
<td>2023-10-02T05:48:20Z</td>
<td>peggy.newman@csiro.au</td>
<td>None</td>
<td>1339</td>
<td>Queensland</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1639</td>
<td>dr18990</td>
<td>Republic of Korea-Australia Migratory Bird Agr...</td>
<td>CONSERVATION_LIST</td>
<td>2022-05-11T14:00:00Z</td>
<td>2023-06-07T23:15:04Z</td>
<td>2023-06-07T23:15:04Z</td>
<td>2023-06-07T23:15:04Z</td>
<td>peggy.newman@csiro.au</td>
<td>None</td>
<td>56</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1725</td>
<td>dr653</td>
<td>South Australia : Conservation Status</td>
<td>CONSERVATION_LIST</td>
<td>2015-04-04T13:00:00Z</td>
<td>2023-06-07T23:13:12Z</td>
<td>2023-06-07T23:13:12Z</td>
<td>2023-06-07T23:13:12Z</td>
<td>rosemary.oconnor@csiro.au</td>
<td>None</td>
<td>1120</td>
<td>South Australia</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1782</td>
<td>dr654</td>
<td>Tasmania : Conservation Status</td>
<td>CONSERVATION_LIST</td>
<td>2015-04-04T13:00:00Z</td>
<td>2023-06-07T23:13:27Z</td>
<td>2023-06-07T23:13:27Z</td>
<td>2023-06-07T23:13:27Z</td>
<td>rosemary.oconnor@csiro.au</td>
<td>None</td>
<td>685</td>
<td>Tasmania</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1859</td>
<td>dr655</td>
<td>Victoria : Conservation Status</td>
<td>CONSERVATION_LIST</td>
<td>2015-04-04T13:00:00Z</td>
<td>2023-06-07T23:13:40Z</td>
<td>2023-06-07T23:13:40Z</td>
<td>2023-06-07T23:13:40Z</td>
<td>rosemary.oconnor@csiro.au</td>
<td>None</td>
<td>1999</td>
<td>Victoria</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1905</td>
<td>dr2201</td>
<td>Western Australia : Conservation status</td>
<td>CONSERVATION_LIST</td>
<td>2015-04-04T13:00:00Z</td>
<td>2023-07-24T02:50:38Z</td>
<td>2023-07-24T02:50:03Z</td>
<td>2023-07-24T02:50:03Z</td>
<td>rosemary.oconnor@csiro.au</td>
<td>None</td>
<td>4604</td>
<td>Western Australia</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Once both these flags are taken into consideration, we can see that we get all the authoritative lists of threatened species. We can also see that the sixth row is titled <code>New South Wales : Conservation List</code>, which is what we will be using.</p>
<p>If you were not concerned only with threatened species, you could either use the authoritative lists, or instead search for lists that have <code>New South Wales</code> in the title using the <code>search_all()</code> function in <code>galah-python</code>.</p>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>galah.search_all(lists<span class="op">=</span><span class="st">"New South Wales"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">dataResourceUid</th>
<th data-quarto-table-cell-role="th">listName</th>
<th data-quarto-table-cell-role="th">listType</th>
<th data-quarto-table-cell-role="th">dateCreated</th>
<th data-quarto-table-cell-role="th">lastUpdated</th>
<th data-quarto-table-cell-role="th">lastUploaded</th>
<th data-quarto-table-cell-role="th">lastMatched</th>
<th data-quarto-table-cell-role="th">username</th>
<th data-quarto-table-cell-role="th">fullName</th>
<th data-quarto-table-cell-role="th">itemCount</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">category</th>
<th data-quarto-table-cell-role="th">generalisation</th>
<th data-quarto-table-cell-role="th">authority</th>
<th data-quarto-table-cell-role="th">sdsType</th>
<th data-quarto-table-cell-role="th">isAuthoritative</th>
<th data-quarto-table-cell-role="th">isInvasive</th>
<th data-quarto-table-cell-role="th">isThreatened</th>
<th data-quarto-table-cell-role="th">looseSearch</th>
<th data-quarto-table-cell-role="th">wkt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>dr650</td>
<td>New South Wales : Conservation Status</td>
<td>CONSERVATION_LIST</td>
<td>2015-04-04T13:00:00Z</td>
<td>2023-06-07T23:12:20Z</td>
<td>2023-06-07T23:12:20Z</td>
<td>2023-06-07T23:12:20Z</td>
<td>rosemary.oconnor@csiro.au</td>
<td>None</td>
<td>1026</td>
<td>New South Wales</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>True</td>
<td>False</td>
<td>True</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>dr487</td>
<td>New South Wales Sensitive Species List</td>
<td>SENSITIVE_LIST</td>
<td>2013-06-20T14:00:00Z</td>
<td>2023-08-30T01:54:47Z</td>
<td>2023-08-30T01:54:46Z</td>
<td>2023-08-30T01:54:46Z</td>
<td>rosemary.oconnor@csiro.au</td>
<td>None</td>
<td>203</td>
<td>NSW</td>
<td></td>
<td></td>
<td>NSW OEH</td>
<td>CONSERVATION</td>
<td>True</td>
<td>False</td>
<td>False</td>
<td>None</td>
<td></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Here, we see we get the aforementioned <code>New South Wales : Conservation Status</code> list, but we also get the <code>New South Wales Sensitive Species List</code>. The second one did not come up in our previous search because, even though it is an authoritative list, it does not include threatened species. For this exercise, we will only use the first list, though the user can add multiple lists if they require it.</p>
<p>Users should note that when searching using a species list, despite the column name of the lists reading <code>dataResourceUid</code>, the filter <code>species_list_uid</code> should be used instead.</p>
<p>Here is our original query:</p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>galah.atlas_species(polygon<span class="op">=</span>yass_valley_geometry,filters<span class="op">=</span><span class="st">"year=2023"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Species</th>
<th data-quarto-table-cell-role="th">Species Name</th>
<th data-quarto-table-cell-role="th">Scientific Name Authorship</th>
<th data-quarto-table-cell-role="th">Taxon Rank</th>
<th data-quarto-table-cell-role="th">Kingdom</th>
<th data-quarto-table-cell-role="th">Phylum</th>
<th data-quarto-table-cell-role="th">Class</th>
<th data-quarto-table-cell-role="th">Order</th>
<th data-quarto-table-cell-role="th">Family</th>
<th data-quarto-table-cell-role="th">Genus</th>
<th data-quarto-table-cell-role="th">Vernacular Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://biodiversity.org.au/afd/taxa/5291343e-...</td>
<td>Gymnorhina tibicen</td>
<td>(Latham, 1801)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Artamidae</td>
<td>Gymnorhina</td>
<td>Australian Magpie</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://biodiversity.org.au/afd/taxa/760401df-...</td>
<td>Malurus (Malurus) cyaneus</td>
<td>(Ellis, 1782)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Maluridae</td>
<td>Malurus</td>
<td>Superb Fairy-wren</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://biodiversity.org.au/afd/taxa/2c33a1fd-...</td>
<td>Cacatua (Cacatua) galerita</td>
<td>(Latham, 1790)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Cacatuidae</td>
<td>Cacatua</td>
<td>Sulphur-crested Cockatoo</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://biodiversity.org.au/afd/taxa/97a59c84-...</td>
<td>Rhipidura (Rhipidura) albiscapa</td>
<td>Gould, 1840</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Rhipiduridae</td>
<td>Rhipidura</td>
<td>Grey Fantail</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://biodiversity.org.au/afd/taxa/5e0f496f-...</td>
<td>Platycercus (Platycercus) elegans</td>
<td>(Gmelin, 1788)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Psittacidae</td>
<td>Platycercus</td>
<td>Crimson Rosella</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">781</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis jonesii</td>
<td>G.N.Backh.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">782</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis multiflora</td>
<td>(D.L.Jones) G.N.Backh.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>Mountain Brown-tip Greenhood</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">783</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Pterostylis pedunculata</td>
<td>R.Br.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Pterostylis</td>
<td>Maroonhood</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">784</td>
<td>https://id.biodiversity.org.au/taxon/apni/5141...</td>
<td>Thelymitra ixioides</td>
<td>Sw.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asparagales</td>
<td>Orchidaceae</td>
<td>Thelymitra</td>
<td>Dotted Sun Orchid</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">785</td>
<td>https://id.biodiversity.org.au/taxon/ausmoss/1...</td>
<td>Thuidiopsis sparsa</td>
<td>(Hook.f. &amp; Wilson) Broth.</td>
<td>species</td>
<td>Plantae</td>
<td>Bryophyta</td>
<td>Bryopsida</td>
<td>Hypnales</td>
<td>Thuidiaceae</td>
<td>Thuidiopsis</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>786 rows × 11 columns</p>
</div>
</div>
</div>
<p>Now, we can add the ID of the conservation species list.</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>galah.atlas_species(polygon<span class="op">=</span>yass_valley_geometry,filters<span class="op">=</span>[<span class="st">"year=2023"</span>,<span class="st">"species_list_uid=dr650"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Species</th>
<th data-quarto-table-cell-role="th">Species Name</th>
<th data-quarto-table-cell-role="th">Scientific Name Authorship</th>
<th data-quarto-table-cell-role="th">Taxon Rank</th>
<th data-quarto-table-cell-role="th">Kingdom</th>
<th data-quarto-table-cell-role="th">Phylum</th>
<th data-quarto-table-cell-role="th">Class</th>
<th data-quarto-table-cell-role="th">Order</th>
<th data-quarto-table-cell-role="th">Family</th>
<th data-quarto-table-cell-role="th">Genus</th>
<th data-quarto-table-cell-role="th">Vernacular Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://biodiversity.org.au/afd/taxa/a3e5376b-...</td>
<td>Petroica (Petroica) boodang</td>
<td>(Lesson, 1838)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Petroicidae</td>
<td>Petroica</td>
<td>Scarlet Robin</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://biodiversity.org.au/afd/taxa/6c646af8-...</td>
<td>Callocephalon fimbriatum</td>
<td>(Grant, 1803)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Cacatuidae</td>
<td>Callocephalon</td>
<td>Gang-gang Cockatoo</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://biodiversity.org.au/afd/taxa/6e872b58-...</td>
<td>Stagonopleura (Stagonopleura) guttata</td>
<td>(Shaw, 1796)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Estrildidae</td>
<td>Stagonopleura</td>
<td>Diamond Firetail</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://biodiversity.org.au/afd/taxa/b47a4ecd-...</td>
<td>Hieraaetus (Hieraaetus) morphnoides</td>
<td>(Gould, 1841)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Accipitriformes</td>
<td>Accipitridae</td>
<td>Hieraaetus</td>
<td>Little Eagle</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://biodiversity.org.au/afd/taxa/fe74e658-...</td>
<td>Petroica (Littlera) phoenicea</td>
<td>Gould, 1837</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Petroicidae</td>
<td>Petroica</td>
<td>Flame Robin</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>https://biodiversity.org.au/afd/taxa/8bf4b8b0-...</td>
<td>Daphoenositta (Neositta) chrysoptera</td>
<td>(Latham, 1801)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Neosittidae</td>
<td>Daphoenositta</td>
<td>Varied Sittella</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>https://biodiversity.org.au/afd/taxa/46fca72f-...</td>
<td>Polytelis swainsonii</td>
<td>(Desmarest, 1826)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Psittacidae</td>
<td>Polytelis</td>
<td>Superb Parrot</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>https://biodiversity.org.au/afd/taxa/d1c5dee0-...</td>
<td>Ninox (Rhabdoglaux) strenua</td>
<td>(Gould, 1838)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Strigiformes</td>
<td>Strigidae</td>
<td>Ninox</td>
<td>Powerful Owl</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>https://id.biodiversity.org.au/node/apni/2910323</td>
<td>Ammobium craspedioides</td>
<td>Benth.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asterales</td>
<td>Asteraceae</td>
<td>Ammobium</td>
<td>Yass Daisy</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>https://biodiversity.org.au/afd/taxa/2063bf6d-...</td>
<td>Pachycephala (Timixos) olivacea</td>
<td>Vigors &amp; Horsfield, 1827</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Pachycephalidae</td>
<td>Pachycephala</td>
<td>Olive Whistler</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>https://biodiversity.org.au/afd/taxa/c95af018-...</td>
<td>Epthianura (Epthianura) albifrons</td>
<td>(Jardine &amp; Selby, 1828)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Meliphagidae</td>
<td>Epthianura</td>
<td>White-fronted Chat</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>https://biodiversity.org.au/afd/taxa/32f9229c-...</td>
<td>Oxyura australis</td>
<td>Gould, 1837</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Anseriformes</td>
<td>Anatidae</td>
<td>Oxyura</td>
<td>Blue-billed Duck</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>https://biodiversity.org.au/afd/taxa/5557cf29-...</td>
<td>Litoria verreauxii</td>
<td>(DumÃ©ril, 1853)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Amphibia</td>
<td>Anura</td>
<td>Hylidae</td>
<td>Litoria</td>
<td>Verreaux's Frog</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>https://biodiversity.org.au/afd/taxa/a51dca29-...</td>
<td>Synemon plana</td>
<td>Walker, 1854</td>
<td>species</td>
<td>Animalia</td>
<td>Arthropoda</td>
<td>Insecta</td>
<td>Lepidoptera</td>
<td>Castniidae</td>
<td>Synemon</td>
<td>Golden Sun Moth</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>https://biodiversity.org.au/afd/taxa/dc420306-...</td>
<td>Haliaeetus (Pontoaetus) leucogaster</td>
<td>(Gmelin, 1788)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Accipitriformes</td>
<td>Accipitridae</td>
<td>Haliaeetus</td>
<td>White-bellied Sea-eagle</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>https://id.biodiversity.org.au/taxon/apni/5128...</td>
<td>Leucochrysum albicans</td>
<td>(A.Cunn.) Paul G.Wilson</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asterales</td>
<td>Asteraceae</td>
<td>Leucochrysum</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>https://id.biodiversity.org.au/taxon/apni/5129...</td>
<td>Eucalyptus radiata</td>
<td>Sieber ex DC.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Myrtales</td>
<td>Myrtaceae</td>
<td>Eucalyptus</td>
<td>Narrow-leaved Peppermint</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Now, if the user wants to know how many times this animal has been recorded, we can add the <code>counts=True</code> argument.</p>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>galah.atlas_species(polygon<span class="op">=</span>yass_valley_geometry,filters<span class="op">=</span>[<span class="st">"year=2023"</span>,<span class="st">"species_list_uid=dr650"</span>],counts<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Species</th>
<th data-quarto-table-cell-role="th">Species Name</th>
<th data-quarto-table-cell-role="th">Scientific Name Authorship</th>
<th data-quarto-table-cell-role="th">Taxon Rank</th>
<th data-quarto-table-cell-role="th">Kingdom</th>
<th data-quarto-table-cell-role="th">Phylum</th>
<th data-quarto-table-cell-role="th">Class</th>
<th data-quarto-table-cell-role="th">Order</th>
<th data-quarto-table-cell-role="th">Family</th>
<th data-quarto-table-cell-role="th">Genus</th>
<th data-quarto-table-cell-role="th">Vernacular Name</th>
<th data-quarto-table-cell-role="th">Number of records</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://biodiversity.org.au/afd/taxa/a3e5376b-...</td>
<td>Petroica (Petroica) boodang</td>
<td>(Lesson, 1838)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Petroicidae</td>
<td>Petroica</td>
<td>Scarlet Robin</td>
<td>32</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://biodiversity.org.au/afd/taxa/6c646af8-...</td>
<td>Callocephalon fimbriatum</td>
<td>(Grant, 1803)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Cacatuidae</td>
<td>Callocephalon</td>
<td>Gang-gang Cockatoo</td>
<td>28</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://biodiversity.org.au/afd/taxa/6e872b58-...</td>
<td>Stagonopleura (Stagonopleura) guttata</td>
<td>(Shaw, 1796)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Estrildidae</td>
<td>Stagonopleura</td>
<td>Diamond Firetail</td>
<td>17</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://biodiversity.org.au/afd/taxa/b47a4ecd-...</td>
<td>Hieraaetus (Hieraaetus) morphnoides</td>
<td>(Gould, 1841)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Accipitriformes</td>
<td>Accipitridae</td>
<td>Hieraaetus</td>
<td>Little Eagle</td>
<td>12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://biodiversity.org.au/afd/taxa/fe74e658-...</td>
<td>Petroica (Littlera) phoenicea</td>
<td>Gould, 1837</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Petroicidae</td>
<td>Petroica</td>
<td>Flame Robin</td>
<td>12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>https://biodiversity.org.au/afd/taxa/8bf4b8b0-...</td>
<td>Daphoenositta (Neositta) chrysoptera</td>
<td>(Latham, 1801)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Neosittidae</td>
<td>Daphoenositta</td>
<td>Varied Sittella</td>
<td>11</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>https://biodiversity.org.au/afd/taxa/46fca72f-...</td>
<td>Polytelis swainsonii</td>
<td>(Desmarest, 1826)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Psittaciformes</td>
<td>Psittacidae</td>
<td>Polytelis</td>
<td>Superb Parrot</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>https://biodiversity.org.au/afd/taxa/d1c5dee0-...</td>
<td>Ninox (Rhabdoglaux) strenua</td>
<td>(Gould, 1838)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Strigiformes</td>
<td>Strigidae</td>
<td>Ninox</td>
<td>Powerful Owl</td>
<td>5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>https://id.biodiversity.org.au/node/apni/2910323</td>
<td>Ammobium craspedioides</td>
<td>Benth.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asterales</td>
<td>Asteraceae</td>
<td>Ammobium</td>
<td>Yass Daisy</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>https://biodiversity.org.au/afd/taxa/2063bf6d-...</td>
<td>Pachycephala (Timixos) olivacea</td>
<td>Vigors &amp; Horsfield, 1827</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Pachycephalidae</td>
<td>Pachycephala</td>
<td>Olive Whistler</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>https://biodiversity.org.au/afd/taxa/c95af018-...</td>
<td>Epthianura (Epthianura) albifrons</td>
<td>(Jardine &amp; Selby, 1828)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Passeriformes</td>
<td>Meliphagidae</td>
<td>Epthianura</td>
<td>White-fronted Chat</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>https://biodiversity.org.au/afd/taxa/32f9229c-...</td>
<td>Oxyura australis</td>
<td>Gould, 1837</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Anseriformes</td>
<td>Anatidae</td>
<td>Oxyura</td>
<td>Blue-billed Duck</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>https://biodiversity.org.au/afd/taxa/5557cf29-...</td>
<td>Litoria verreauxii</td>
<td>(DumÃ©ril, 1853)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Amphibia</td>
<td>Anura</td>
<td>Hylidae</td>
<td>Litoria</td>
<td>Verreaux's Frog</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>https://biodiversity.org.au/afd/taxa/a51dca29-...</td>
<td>Synemon plana</td>
<td>Walker, 1854</td>
<td>species</td>
<td>Animalia</td>
<td>Arthropoda</td>
<td>Insecta</td>
<td>Lepidoptera</td>
<td>Castniidae</td>
<td>Synemon</td>
<td>Golden Sun Moth</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>https://biodiversity.org.au/afd/taxa/dc420306-...</td>
<td>Haliaeetus (Pontoaetus) leucogaster</td>
<td>(Gmelin, 1788)</td>
<td>species</td>
<td>Animalia</td>
<td>Chordata</td>
<td>Aves</td>
<td>Accipitriformes</td>
<td>Accipitridae</td>
<td>Haliaeetus</td>
<td>White-bellied Sea-eagle</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>https://id.biodiversity.org.au/taxon/apni/5128...</td>
<td>Leucochrysum albicans</td>
<td>(A.Cunn.) Paul G.Wilson</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Asterales</td>
<td>Asteraceae</td>
<td>Leucochrysum</td>
<td>NaN</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>https://id.biodiversity.org.au/taxon/apni/5129...</td>
<td>Eucalyptus radiata</td>
<td>Sieber ex DC.</td>
<td>species</td>
<td>Plantae</td>
<td>Charophyta</td>
<td>Equisetopsida</td>
<td>Myrtales</td>
<td>Myrtaceae</td>
<td>Eucalyptus</td>
<td>Narrow-leaved Peppermint</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>To get the list into a csv file, run</p>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>yass_valley_species_list_conservation_counts <span class="op">=</span> galah.atlas_species(polygon<span class="op">=</span>yass_valley_geometry,filters<span class="op">=</span>[<span class="st">"year=2023"</span>,<span class="st">"species_list_uid=dr650"</span>],counts<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>yass_valley_species_list_conservation_counts.to_csv(<span class="st">"Yass_Valley_Species_List_Conservation_Counts_2023.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>