{
  "articles": [
    {
      "path": "about.html",
      "title": "About us",
      "description": "The ALA Science & Decision Support Team",
      "author": [],
      "contents": "\nWe are responsible for:\nData analysis & reporting on key projects\nR package development & maintenance\nOutreach & engagement with the research community\nMeet the team\nClick on photos to view their articles and contributions\n\n\n\n\n\n\n\n\nMartin Westgate\n\nTeam Leader\n\n\n\n\n\n\n\n\n\nJessica Fenker\n\nData Analyst\n\n\n\n\n\n\n\n\n\nJenna Wraith\n\nTraining & Outreach Coordinator\n\n\n\n\n\n\n\n\n\n\n\nDax Kellie\n\nData Analyst\n\n\n\n\n\n\n\n\n\nOlivia Torresan\n\nSupport Officer\n\n\n\n\n\n\n\n\n\nAmanda Buyan\n\nData Analyst\n\n\n\n\n\n\n\n\n\n\n\nShandiya Balasubramaniam\n\nData Analyst\n\n\n\n\n\n\n\n\n",
      "last_modified": "2022-04-26T12:26:31+10:00"
    },
    {
      "path": "galah.html",
      "title": "galah",
      "author": [],
      "date": "`r Sys.Date()`",
      "contents": "\n\n\nd-title {\n    display: none;\n  }\n\n\n\n\n\n\n\ngalah\ngalah is an R interface to biodiversity data hosted by the Atlas of Living Australia (ALA). It enables users to locate and download species occurrence records (observations, specimens, eDNA records, etc.), taxonomic information, or associated media such as images or sounds, and to restrict their queries to particular taxa or locations.\nVisit the galah R package website to learn more about how to use galah\nIf you have any questions, comments, or spot any bugs, email us or report an issue on our GitHub page\n\n\nGet started\nInstall from CRAN\n\n\ninstall.packages(\"galah\")\n\n\n\n\n\n\n",
      "last_modified": "2022-04-26T12:26:31+10:00"
    },
    {
      "path": "index.html",
      "title": "Welcome to ALA Labs",
      "description": "This site is a resource for coding projects that use data sourced from the ALA. We hope that users will find interesting content, whether their focus is ecological modelling, data visualisation, or simply investigating the natural world through a digital lens. Enjoy!",
      "author": [],
      "contents": "\n\n\nData visualisation\n\n\n\nClick to see related posts on each topic\n\n\n\n\n\n\n\n\n\nSummaries\n\n\n\n\n\n\n\n\nMaps\n\n\n\n\n\n\n\n\nTrees\n\n\n\n\n\n\n\n\nTaxonomy\n\n\n\nClick to see related posts on each topic\n\n\n\n\n\n\n\n\n\nPlants\n\n\n\n\n\n\n\n\nBirds\n\n\n\n\n\n\n\n\nMammals\n\n\n\n\n\n\n\n\nWe value\n\n\n\n\n\n\n\n\n   Openness\n\nData are most useful when they are widely available and easy to use. We try to encourage the sharing of tools that make data from the Atlas of Living Australia more open and useful for everyone\n\n\n\n\n\n\n   Scientific transparency\n\nTransparency is necessary for reproducible science. We encourage that decisions, methods and deviations in our workflow are clear and transparent from the planning phase, to the retrieval and analysis of data, to the final output\n\n\n\n\n\n\n   Robust methods\n\nNo method or analytic procedure is perfect. We value consideration for strengths and limitations of each method or analysis to help choose the methods that provide robust, reliable results\n\n\n\n\n\n\n\n",
      "last_modified": "2022-04-26T12:26:32+10:00"
    },
    {
      "path": "info_ala-labs-maintenance.html",
      "title": "Managing the ALA Labs Website",
      "author": [
        {
          "name": "Dax Kellie",
          "url": {}
        }
      ],
      "date": "27/02/2022",
      "contents": "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAbout\nPosts\n\n\nResources\n \n▾\n\n\ngalah\nContact Us\n\n\n\n\n\n\n\n☰\n\n\n  \n    \n      \n        \n        \n        \n      \n      \n    \n    \n      \n  \n    \n     \n  \n\n\n  About\n\n\n  Posts\n\n\n  \n    Resources\n     \n    \n  \n  \n      galah\n    \n    \n      Contact Us\n    \n  \n\n  \n\n\n  \n    \n     \n  \n\n      \n  \n\n\n\n\n\n\nManaging the ALA Labs Website\nDax Kellie\n27/02/2022\n\n\n\n\n\nInstallation\nInstall the {distill} package from CRAN:\ninstall.packages(\"distill\")\nClone the ala-labs repository to a local directory.\n\n\nBuild the website\nWe use a custom file to build the website. To build the website, run the code in R/ignition_sequence.R.\nIf successful, to see the built website navigate to your local file explorer and opening _site/index.html.\nWe use a custom file to build the website because we have added several bespoke features to the standard distill website format (like auto-updating lists in _people pages and a custom search toolbar). Adding these features means that using the recommended method by {distill} to use the Build Website tab in the Build pane no longer works. Only using rmarkdown::build_site() will also not work correctly.\n\nWhen you build the website, the following things occur:\nAll of the Rmd and md files in the root website directory will be rendered into HTML. Note, however, that markdown files beginning with “_” are not rendered (this is a convention to designate files that are included by top level documents, or in other words, distill knows not to overwrite these folders because they are important).\nPosts will be copied into the _site/posts sub-directory. Pages with post listings will be re-generated.\nThe generated HTML files and any supporting files (e.g. CSS and JavaScript) are copied into the _site directory.\nThe top 3 most recently written Posts will be added to the author’s _people page. (Note: For the website to build, ensure that all people who have authored a post have their own People page, even if this page is not accessible to the public)\nThe HTML files within the _site directory are built and ready to deploy as a standalone static website.\n\nPublishing the website\nThe _site folder has all of the information needed for the static website. The ALA web hosting service has been told to publish what is in the _site folder on the master branch to .\nWhen you are happy with changes or updates to the website, make sure your changes to the _site folder are pushed to the master branch.\n\n\n\nUpdate the website\n\nWebsite workflow\nUpdates to the website should be added to the dev branch of the GitHub repo. In the dev branch, any changes made will not be published to the existing website. The dev branch effectively works as a test site prior to deployment.\n\n\n\nAdd or edit content\n\nSite Output and Navigation\nThe _site.yml controls the main website information and site navigation.\nElements can be edited to alter navigation paths. Here is one example of the navbar for the ALA Labs website:\n---\nnavbar:\n  logo:\n    image: images/logos/ALA_Logo_Stacked_REV.png\n    href: https://www.ala.org.au\n  right:\n    - text: \"About\"\n      href: about.html\n    - text: \"Posts\"\n      href: posts.html\n    - text: \"Resources\"\n      menu:\n        - text: \"galah\"\n          href: galah.html\n        - text: \"ALA Labs Style Guide\"\n          href: test_style-guide.html\n    - icon: fab fa-github\n      href: https://github.com/AtlasOfLivingAustralia/science\n---\n\n\nWeb Pages\n\nAdd top-level pages\nTop-level web pages (the ones people see in the top navigation bar) are saved in the top-level folder by their page name (for example, the content for the About page is in about.Rmd).\nAdditional pages can be added by creating a new R Markdown page in the main website folder with the yaml header:\n---\ntitle: \"\"\ndescription: |\n  description-goes-here\noutput: \n  distill::distill_article:\n    css: theme.css\n---\nPages can then be added to the website by their text and href to the site navigation in _site.yml under navbar (see Site Output and Navigation)\n\n\n\nPosts\n\nWriting new posts\nPosts are written in R markdown files. Post templates can be found in the templates folder.\nTo create a new post:\nCreate a new folder in the _posts folder. The folder name should be the date and title of your article (for example, 2022-02-17_sunburst-plots-for-taxonomic-data\nIn your new post folder, save your Post file. You are welcome to use a simple name for your Rmd file (for example, sunburst-plots.Rmd)\nBe sure that you have filled in all the necessary information about your post in the yaml header and in the author card section\nWrite your post\nRender/Knit your document using the R/render_post.R document. Using the code in R/render_post.R allows you to avoid adding personal information to your Post (like your personal email in galah_config()). The most recently knitted version of your file is what will appear on the website\nWhen you are happy with your post, build the website. After the website it built, your rendered post should appear in the Posts listing page\n\n\n\n\nTheme customisation\nDistill uses a CSS framework that can be fully customised. CSS theme settings are in theme.css. See the Distill website page for instructions on how to edit additional website properties.\nSome properties can be found in labeled sections, like settings for website fonts, header and footer sections. For example, website header settings can be found in the .distill-site-header section:\n/*-- WEBSITE HEADER + FOOTER --*/\n/* These properties only apply to Distill sites and blogs  */\n\n.distill-site-header {\n  --title-size:       18px;    \n  --text-color:       #ff414b; /* edited */\n  --text-size:        15px;\n  --hover-color:      #dd424c; /* edited */\n  --bkgd-color:       #ffd8db; /* edited */\n}\nOther properties are edited using custom CSS. These are (mostly) labelled and relate either to built-in distill html elements or html elements built in R/function.R.\n\nCustom html elements using R functions\nR/functions.R contains functions that create html elements within the ALA Labs website. R/functions.R uses the {htmlTools} package to write html code using R syntax.\nFor example, the following R function and html code are equivalent. They both will create a link of class = \"article-link\". This class name can be used with CSS in theme.css to edit the element style.\n#<!-- html -->\n#<a class = \"article-link\" href = \"https://ala.org.au/\">my text<\/a>\n# R function\nadd_link_to_article <- function(title, url){\n  tags$a(\n    class = \"article-link\",\n    href = url,\n    \"text\"\n  )\n}\n\nadd_link_to_article(text = \"my text\", url = \"https://ala.org.au/\")\nThe benefits of writing R functions to create html elements are:\nRather than trying to edit html elements that the Distill package runs in the back-end to build the website, adding html elements using R functions is easier and less prone to errors\nIt is easier for people familiar in R to reuse and edit the content of existing html elements created by R functions\nTo use functions in the R/functions.R file on a specific website page or post, the following code block must be added below the YAML header\n  ```{r, include=FALSE}\n  library(htmltools)\n  source(\"R/functions.R\")\n```\n\n\n\n\n\n\n\n\n\n\n/*-- Copyright --*/\n\n.copyright-container {\n  display: flex;\n  width: 100%;\n  margin-bottom: 30px; \n  margin-top: 30px;\n}\n\n.copyright-row {\n  width: 100%;\n  height: 60px;\n  position: relative;\n  margin-bottom: -1.75vw;\n  background-color: #c44d34;\n  background-position: bottom;\n  background-size: cover;\n  display: flex;\n}\n\n.copyright-width {\n  display: flex;\n  width: 100%;\n  max-width: 1140px;\n  padding-left: 15px;\n  padding-right: 15px;\n  padding-bottom: 30px;\n  margin: auto;\n}\n\n.copyright-column-left {\n  float: left;\n  width: 50%;\n  max-width: 50%;\n  padding-left: 15px;\n  padding-right: 15px;\n  position: relative;\n  min-height: 1px;\n  display: flex;\n  flex-direction:column;\n  display:inline-block;\n}\n\n.copyright-column-right {\n  float: right;\n  text-align: right;\n  width: 50%;\n  max-width: 50%;\n  padding-left: 15px;\n  padding-right: 15px;\n  position: relative;\n  min-height: 1px;\n  display: flex;\n  flex-direction: column;\n  display:inline-block;\n}\n\n.copyright-text {\n  color: white;\n  font-size: 12px;\n  padding-top: 10px}\n\n.copyright-text a:hover {\n  color: #222322;\n}\n\n\n/*-- Logos and acknowledgement --*/\n\n.footer-container { \n  display: flex;\n  width: 100%;\n  max-width: 1140px;\n  padding-left: 15px;\n  padding-right: 15px;\n  padding-top: 50px;\n  padding-bottom: 50px; \n  margin: auto;\n}\n\n.distill-site-footer {\n  padding-top: 0px;\n  padding-bottom: 10px;\n  text-align: left;\n}\n\n.row-footer { /* Do not change the name of this column - it causes issues */\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n    flex-wrap: wrap;\n}\n\n.column-footer { /* Do not change the name of this column - it causes issues */\n  float: left;\n  width: 50%;\n  max-width: 50%;\n  padding-left: 15px;\n  padding-right: 15px;\n  position: relative;\n  min-height: 1px;\n  display: flex;\n  flex-direction:column;\n  display:inline-block;\n}\n\n\n.footer-logo {\n  text-align: left;\n  margin:5px;\n}\n\n.footer-text {\n  font-family: \"Lato\", sans-serif;\n  font-weight: 700;\n  font-size: 1.1rem;\n  line-height: 1.2;\n  color: #565656;\n  text-align: left;\n}\n\n.footer-text-small {\n  font-family: Roboto,sans-serif;\n  font-size: .82rem;\n  font-weight: 400;\n  line-height: 1.5;\n  font-family: \"Roboto\", sans-serif;\n  font-weight: 400;\n  color: #565656;\n  text-align: left;\n  margin-top: 10px;\n}\n\nd-article a:hover {\n  color: #E06E53;\n}\n\n/*-- Back to ALA button --*/\n\n.link-container {\n  margin-top: 30px;\n  margin-bottom: 30px;\n  display: block;\n  width: 30em;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.link-button {\n  border: none;\n  color: #E06E53;\n  padding: 10px 15px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 18px;\n  margin: 4px 2px;\n  transition-duration: 0.3s;\n  cursor: pointer;\n  background-color: white; \n  border: 2px solid #E06E53;\n  border-radius: 10px;\n}\n\n.link-button:hover {\n  background-color: #222322;\n  border: 2px solid #222322;\n  color: #E06E53;\n}\n\n.ala-icon {\n    height: 20px;\n    width: auto;\n    /* Other styles here */\n}\n\n@media screen and (max-width: 952px) {\n  .link-container {\n    margin: auto;\n    margin-top: 20px;\n    margin-bottom: 20px;\n  }\n  \n  .footer-container {\n    width: 100%;\n    max-width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n  }\n  .column-footer {\n    float:left;\n    width: 100%;\n    max-width: 100%;\n    display: block;\n    margin-top: 20px;\n    margin-bottom: 20px;\n  }\n  .link-container {\n    display: block;\n    width: 20em;\n    margin: auto;\n  }\n  \n  .copyright-column-left {\n    width: 50%;\n  }\n  \n  .copyright-column-right {\n    width: 50%;\n  }\n  \n  .copyright-row {\n    height: 100px;\n    margin-bottom: -3.75vw;\n  }\n}\n\n.logo-ncris {\n  width: 150px;\n  height: 109px;\n  margin-right: 15px;\n  margin-top: 20px;\n}\n\n.logo-csiro {\n  width: 109px;\n  height: 109px;\n  margin-right: 15px;\n  margin-top: 20px;\n}\n\n.logo-gbif {\n  width: 207px;\n  height: 109px;\n}\n\n\n  \n  \n    \n      The ALA is made possible by contributions from its partners, is supported \n      by \n      NCRIS, is hosted by \n             CSIRO, and is the Australian node of\n             GBIF.\n      \n      \n        \n      \n        \n      \n        \n    \n    \n      Acknowledgement of Traditional Owners and Country\n      The Atlas of Living Australia acknowledges Australia's Traditional Owners \n      and pays respect to the past and present Elders of the nation's Aboriginal \n      and Torres Strait Islander communities. We honour and celebrate the \n      spiritual, cultural and customary connections of Traditional Owners to \n      country and the biodiversity that forms part of that country.\n    \n\n\n\n  \n     \n        \n                \n                    This work is licensed under a Creative Commons Attribution 3.0 Australia License\n                    \n                \n            \n        \n         \n           Copyright\n             \n           Terms of Use\n             \n           System Status\n         \n      \n    \n    \n\n\n\n\n\n\n\n\n\n\n\n// add bootstrap table styles to pandoc tables\nfunction bootstrapStylePandocTables() {\n  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');\n}\n$(document).ready(function () {\n  bootstrapStylePandocTables();\n});\n\n\n\n$(document).ready(function () {\n  window.buildTabsets(\"TOC\");\n});\n\n$(document).ready(function () {\n  $('.tabset-dropdown > .nav-tabs > li').click(function () {\n    $(this).parent().toggleClass('nav-tabs-open');\n  });\n});\n\n  (function () {\n    var script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.src  = \"https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\";\n    document.getElementsByTagName(\"head\")[0].appendChild(script);\n  })();\n",
      "last_modified": "2022-04-26T12:26:32+10:00"
    },
    {
      "path": "posts.html",
      "title": "Posts",
      "author": [],
      "contents": "\n\n\n\n",
      "last_modified": "2022-04-26T12:26:33+10:00"
    },
    {
      "path": "test_style-guide.html",
      "title": "ALA Labs Style Guide",
      "description": "Style guide for R script and R Markdown documents\n",
      "author": [],
      "date": "`r Sys.Date()`",
      "contents": "\n\nContents\nGetting started\nCreate an ALA R Markdown file\nKniting to HTML safely\n\nPush to Github\nReproducible workflows\nSafe paths\n\nWriting understandable code\nSummarise your code\nStyle code using styler\n\nStyling your document\nTables\nFigures\nModel output\nCode chunk options\nExample: echo and eval\n\n\nCool Distill Things\nCode folding\n\n\nThis document details the Atlas of Living Australia style guide for creating html files from R Markdown\nGetting started\nCreate an ALA R Markdown file\nTo create new R Markdown file that follows the ALA style guide, install the alatheme package.\n\n\ndevtools::install_github(\"AtlasOfLivingAustralia/alatheme\")\n\n\n\nThe {alatheme} package contains ALA templates for R Markdown files. After installing, create a new template R markdown file by selecting File –> New File –> New R Markdown which opens the “New R Markdown” pane\nIn the “New R Markdown” pane, select From Template and choose from the list of {alatheme} templates.\nFill in your information where necessary in the yaml header and in the required code and text chunks.\nKniting to HTML safely\nIn R Studio, clicking the Knit button in the left upper menu above your script renders your R Markdown file into an HTML file.\nHowever, if your code requires a config setting with personal or sensitive information, . However, packages like galah require users to enter an email address prior to downloading data using galah_config(email = \"your-email@email.com\"). Knitting without this information in the document will cause an error.\nA better workflow for rendering R Markdown files is by using a separate script combined with the here package. Running the following script outside of your R Markdown file will render your R Markdown file in the file’s directory:\n\n\nlibrary(galah)\ngalah_config(email = \"your-email@email.com\")\n\nlibrary(here)\npath <- here(\"folder\", \"subfolder\", \"subfolder\", \"your-code.Rmd\")\nrmarkdown::render(path)\n\n\n\n\nPush to Github\n\nReproducible workflows\nSafe paths\nUsing setwd() to set a working directory can cause issues when setting folder paths, and can easily prevent a script or workflow from being reproducible. \nOne alternative suggested by Jenny Bryan is to use here::here() from the here package to build your directory paths. here::here() automatically creates paths relative to the top level directory.\nRead a full description of how to use the here() function to create safe paths in Chapter 3 of What They Forgot to Teach You About R\nFor example:\n\n\nlibrary(tidyverse)\nlibrary(here)\n\ndf <- read.delim(here(\"projects\", , \"style_guide\", \"data.csv\"))\np <- ggplot(df, aes(x, y)) + geom_point()\nggsave(here(\"plots\", \"foofy_scatterplot.png\"))\n\n\n\nWriting understandable code\nSummarise your code\nPeople who read your code should be able to understand what it does and why you made the choices you did. It is helpful to include brief summaries of what your code is meant to do, and the logic of any decision you might make after seeing a result or output. For example, if your code used a statistical model, include your basic interpretation and subsequent decision process after seeing the results. \nUse sentences, paragraphs and code chunks to add structure to your script. Try to create a flowing, logical story of how to run an analysis or make a data visualisation. \nCode chunks should be brief. They should be supplemented with notes, descriptions or visual output that provides context to what a given chunk of code is meant to do. Users should be able to follow each transformation that is made to your data, each output that results from a transformation, and any final output. \nDo not expect your reader to know what they should see in your output. If there is something in your code output that you wish to highlight, it is best to tell your reader what they should see in your output and how you have interpreted it.\nThere is no single correct code chunk size; you must use your best judgement. But if it seems that the result of several lines of code is unclear, you may need to split the code chunks to make the results easier to follow. \nStyle code using styler\nUse the styler package to ensure your code is formatted correctly and/or consistently, The styler package formats your code according to the tidyverse style guide (or another custome style) prior to uploading a finished file document. \nSee the styler github and tidyverse pages for more information \nInstall the styler package to add style buttons to your R Markdown Addins dropdown menu. Clicking Addins -> style active file will reformat the code in your active file. Clicking ** Addins** -> style active section will reformat code in your current section. \nAlternatively, you style_file() or style_text() can be run in the console. \nStyling your document\nSee the R Markdown cheat sheet for more information on R Markdown formatting \nFor tips to make your R Markdown output pretty, see Pimp my RMD by Yan Holtz \nTables\nSeveral packages can create tables with nice formatting.\nOne example is kableExtra:\n\n\nlibrary(tidyverse)\nlibrary(kableExtra)\nkable(\n  head(mtcars, n=5)) %>% kable_styling()\n\n\n\n\n\nmpg\n\n\ncyl\n\n\ndisp\n\n\nhp\n\n\ndrat\n\n\nwt\n\n\nqsec\n\n\nvs\n\n\nam\n\n\ngear\n\n\ncarb\n\n\nMazda RX4\n\n\n21.0\n\n\n6\n\n\n160\n\n\n110\n\n\n3.90\n\n\n2.620\n\n\n16.46\n\n\n0\n\n\n1\n\n\n4\n\n\n4\n\n\nMazda RX4 Wag\n\n\n21.0\n\n\n6\n\n\n160\n\n\n110\n\n\n3.90\n\n\n2.875\n\n\n17.02\n\n\n0\n\n\n1\n\n\n4\n\n\n4\n\n\nDatsun 710\n\n\n22.8\n\n\n4\n\n\n108\n\n\n93\n\n\n3.85\n\n\n2.320\n\n\n18.61\n\n\n1\n\n\n1\n\n\n4\n\n\n1\n\n\nHornet 4 Drive\n\n\n21.4\n\n\n6\n\n\n258\n\n\n110\n\n\n3.08\n\n\n3.215\n\n\n19.44\n\n\n1\n\n\n0\n\n\n3\n\n\n1\n\n\nHornet Sportabout\n\n\n18.7\n\n\n8\n\n\n360\n\n\n175\n\n\n3.15\n\n\n3.440\n\n\n17.02\n\n\n0\n\n\n0\n\n\n3\n\n\n2\n\n\nkableExtra is also able to be used using magittr or base piping:\n\n\nmtcars %>% \n  group_by(gear) %>% \n  dplyr::summarise(cyl = mean(cyl),\n            disp = mean(disp)) %>%\n  kbl() %>%\n  kable_styling()\n\n\n\ngear\n\n\ncyl\n\n\ndisp\n\n\n3\n\n\n7.466667\n\n\n326.3000\n\n\n4\n\n\n4.666667\n\n\n123.0167\n\n\n5\n\n\n6.000000\n\n\n202.4800\n\n\n\n\nhead(mtcars |>\n  subset(select = c(\"cyl\", \"disp\", \"gear\")), n = 5) |>\n  kbl() |>\n  kable_styling()\n\n\n\n\n\ncyl\n\n\ndisp\n\n\ngear\n\n\nMazda RX4\n\n\n6\n\n\n160\n\n\n4\n\n\nMazda RX4 Wag\n\n\n6\n\n\n160\n\n\n4\n\n\nDatsun 710\n\n\n4\n\n\n108\n\n\n4\n\n\nHornet 4 Drive\n\n\n6\n\n\n258\n\n\n3\n\n\nHornet Sportabout\n\n\n8\n\n\n360\n\n\n3\n\n\nFigures\nControlling the size of figures can help when you want people to focus on trends of many plots or on details of a single plot. \nYou can control how many columns your plots created in a chunk are printed into.\nAdd out.width = c(\"50%\", \"50%\"), fig.show = \"hold\":\n\n``{r out.width=c('50%', '50%'), fig.show='hold'}\nboxplot(1:10)\nplot(rnorm(10))\n`\n\n\n\n\nControl other parts of figure output in the chunk header as well. For example:\n\n``{r, fig.align=\"center\", fig.width=6, fig.height=6, fig.cap=\"Figure: Here is a really important caption.\"}\n\n\n\nlibrary(tidyverse)\nmpg %>%\n  ggplot( aes(x=reorder(class, hwy), y=hwy, fill=class)) + \n    geom_boxplot() +\n    xlab(\"class\") +\n    theme(legend.position=\"none\")\n\n\n\n\nFigure 1: Figure: Here is a really important caption.\n\n\n\nModel output\nWant to show more readable model output? Use the model_parameters() function from the parameters package to make your output clear and organised. The model_parameters() function can be considered as a lightweight alternative to broom::tidy():\n\n\nlibrary(parameters)\nmodel <- lm(Sepal.Width ~ Petal.Length * Species + Petal.Width, data = iris)\n\n# regular model parameters\nmodel_parameters(model)\n\n\nParameter                           | Coefficient |   SE |         95% CI | t(143) |      p\n-------------------------------------------------------------------------------------------\n(Intercept)                         |        2.89 | 0.36 | [ 2.18,  3.60] |   8.01 | < .001\nPetal Length                        |        0.26 | 0.25 | [-0.22,  0.75] |   1.07 | 0.287 \nSpecies [versicolor]                |       -1.66 | 0.53 | [-2.71, -0.62] |  -3.14 | 0.002 \nSpecies [virginica]                 |       -1.92 | 0.59 | [-3.08, -0.76] |  -3.28 | 0.001 \nPetal Width                         |        0.62 | 0.14 | [ 0.34,  0.89] |   4.41 | < .001\nPetal Length * Species [versicolor] |       -0.09 | 0.26 | [-0.61,  0.42] |  -0.36 | 0.721 \nPetal Length * Species [virginica]  |       -0.13 | 0.26 | [-0.64,  0.38] |  -0.50 | 0.618 \n\nmodel_parameters() can also be used for parameter standardization:\n\n\n# standardized parameters\nmodel_parameters(model, standardize = \"refit\")\n\n\nParameter                           | Coefficient |   SE |         95% CI | t(143) |      p\n-------------------------------------------------------------------------------------------\n(Intercept)                         |        3.59 | 1.30 | [ 1.01,  6.17] |   2.75 | 0.007 \nPetal Length                        |        1.07 | 1.00 | [-0.91,  3.04] |   1.07 | 0.287 \nSpecies [versicolor]                |       -4.62 | 1.31 | [-7.21, -2.03] |  -3.53 | < .001\nSpecies [virginica]                 |       -5.51 | 1.38 | [-8.23, -2.79] |  -4.00 | < .001\nPetal Width                         |        1.08 | 0.24 | [ 0.59,  1.56] |   4.41 | < .001\nPetal Length * Species [versicolor] |       -0.38 | 1.06 | [-2.48,  1.72] |  -0.36 | 0.721 \nPetal Length * Species [virginica]  |       -0.52 | 1.04 | [-2.58,  1.54] |  -0.50 | 0.618 \n\n\nCode chunk options\nSee the R markdown documentation to view chunk options. \nExample: echo and eval\nReaders should be able to identify where every file in a workflow comes from (little is more frustrating than wondering where a required data file is located). Code used to load or extract data (from galah, for example) should be clearly identified. \nHowever, some code takes a very long time to run and you may have saved it locally or in a repository to save time and/or space. In this case, it is possible to show code without running it. \nAdd eval = FALSE to the chunk header to display the code but prevent the chunk from running:\n\n``{r, eval = FALSE}\nala_counts(group_by = \"phylum\")\n`\n\nYou can then load a local file in the background, without showing the code. \nAdd echo = FALSE to your chunk header to run the code but prevent the chunk from displaying:\n\n``{r, echo = FALSE}\ndata <- readRDS(file = \"local_file.rds\")\n`\n\nCool Distill Things\nCode folding\nDoes a plot require a lot of code that distracts from the plot itself? Distill has a really nice code folding feature:\n\n\nShow code\n\nlibrary(galah)\nlibrary(data.table)\nlibrary(dtplyr) # provides data.table backend for dplyr\nlibrary(tidyverse)\nlibrary(lubridate) # for dates\nlibrary(ggpubr)\n\n# Might need to config email to get ALA data\nala_config(email = \"dax.kellie@csiro.au\")\n\n\n# Get records\noccurrences_Tas <- ala_occurrences(filters = select_filters(stateProvince = \"Tasmania\",\n                                               year = seq(2018, 2020),\n                                               basisOfRecord = \"HumanObservation\"))\noccurrences_Tas <- setDT(occurrences_Tas) # make data.table\n\n\n\n\n\nShow code\n\n# date format\noccurrences_Tas$eventDate <- as_date(occurrences_Tas$eventDate)\n\n# Wrangling\noccurrences_Tas <- occurrences_Tas %>%\n  mutate(\n    month = month(eventDate, label = TRUE), # add month col\n    year = year(eventDate)                  # add year col\n  ) %>%\n  filter(!is.na(eventDate)) %>%             # remove NAs\n  as.data.table()\n# any(is.na(occurrences_Tas$day))\n\n# get month counts\nmonth_counts <- occurrences_Tas[, .N, by = c(\"month\")]\nmonth_counts$month <- ordered(factor(month_counts$month,\n  levels = c(\n    \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n    \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\n  )\n))\n\nggdotchart(month_counts,\n  x = \"month\", y = \"N\",\n  color = \"month\", # Color by groups\n  palette = \"viridis\", # Custom color palette\n  sorting = \"none\", # Sort value in descending order\n  add = \"segments\", # Add segments from y = 0 to dots\n  legend = \"none\",\n  rotate = FALSE,\n  dot.size = 4,\n  add.params = list(color = \"month\", size = 1),\n  title = \"Records added to ALA by month (2018-2020)\",\n  ylab = \"Number of records\",\n  xlab = \"Month\",\n  ggtheme = theme_pubr() # ggplot2 theme\n)\n\n\n\n\n\n\n",
      "last_modified": "2022-04-26T12:26:35+10:00"
    }
  ],
  "collections": ["posts/posts.json", "people/people.json"]
}
