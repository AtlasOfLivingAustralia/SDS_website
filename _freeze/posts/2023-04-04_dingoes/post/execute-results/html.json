{
  "hash": "0f66ff5b720cbf195780bfe021b90838",
  "result": {
    "markdown": "---\ntitle: \"An exploration of dingo observations in the ALA\"\ndescription: |\n  Time-series analyses can be handy for seeing trends over time, and exploring how trends relate to major events. Here, we show how to create an exploratory time-series plot comparing observations of waterbirds prior to and during the COVID-19 pandemic.\nauthor:\n  - name: \"Amos Smith\"\n  - name: \"Dax Kellie\"\ndate: \"2023-04-04\"\ntitle-block-banner: \"#B8573E\"\ninclude-after-body: _footer.html\ntoc: true\ntoc-location: left\ntoc-depth: 2\ncategories:\n  - Eukaryota\n  - Animalia\n  - Mammalia\n  - Summaries\n  - Maps\n  - Intern-post\nimage: ducks.png\nfreeze: true\ndraft: true\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\n<!-- remove metadata section -->\n\n::: {.cell}\n<style type=\"text/css\">\n#title-block-header.quarto-title-block.default .quarto-title-meta {\n    display: none;\n}\n</style>\n:::\n\n\n\n<!-- Author card -->\n\n:::{.author-card}\n:::{.author-card-text}\n\n#### Author\nAmos Smith \n[Olivia Torresan](https://labs.ala.org.au/people/Torresan_Olivia/index.html)  \n[Dax Kellie](https://labs.ala.org.au/people/Kellie_Dax/index.html)  \n\n#### Date\n4 April 2023\n\n:::\n\n:::{.author-card-image}\n\n::: {.cell}\n::: {.cell-output-display}\n![](https://raw.githubusercontent.com/AtlasOfLivingAustralia/ala-labs/main/images/people/amos.jpg){width=120px style=\"clip-path: circle();\"}\n:::\n:::\n\n:::\n\n:::{.author-card-image}\n\n::: {.cell}\n::: {.cell-output-display}\n![](https://raw.githubusercontent.com/AtlasOfLivingAustralia/ala-labs/main/images/people/olivia.jpg){width=120px style=\"clip-path: circle();\"}\n:::\n:::\n\n:::\n\n:::{.author-card-image}\n\n::: {.cell}\n::: {.cell-output-display}\n![](https://raw.githubusercontent.com/AtlasOfLivingAustralia/ala-labs/main/images/people/dax.jpg){width=120px style=\"clip-path: circle();\"}\n:::\n:::\n\n:::\n\n:::\n\n<!------------------------ Post starts here ------------------------>\n\n:::{.callout-tip}\n\n## Intern Post\n\n:::\n\nThe dingo is among Australia's most recognised species internationally. However, debate continues on whether dingoes are considered pests or protected native species.\n\nDingoes have had major negative impacts on livestock producers, especially sheep farmers. To reduce this impact, landowners and government spend an estimated [\\~$30 million annually across Australia](https://www.publish.csiro.au/wr/pdf/WR19030) to control wild dog and dingo populations. Populations are often controlled using traps, baits and shooting. Australia also constructed the Dingo Fence, a wire fence made to protect from the loss of sheep for the sheep industry; it is the longest fence in the world (5,614 km). \n\nSince its construction 80 years ago, the Dingo Fence has shaped the landscape of Australia. Perhaps unintentionally, [the dingo fence has acted as a natural experiment that has shown the importance of apex predators like dingoes in ecosystems](https://www.abc.net.au/news/2023-02-09/dingo-fence-map-ecology-farming-predator-sheep-extinction/101711608). On the side where dingoes remain present there is [more vegetation](https://link.springer.com/article/10.1007/s10980-021-01206-w) and [fewer invasive species like foxes](https://www.publish.csiro.au/am/AM21036) than on the side where dingoes are absent, benefiting native biodiversity. The difference between sides of the fence is so distinct that [you can even see it from space](https://youtu.be/ivmQk5EsScw)!\n\nHistorical and current control programs along with habitat loss have impacted dingo populations negatively, despite evidence that [dingoes can be allies for livestock producers](https://theconversation.com/killing-dingoes-is-the-only-way-to-protect-livestock-right-nope-200905). Dingoes are currently listed as [vulnerable to extinction under the IUNC's Red List of Threatened Species](https://www.iucnredlist.org/species/41585/10484199). \n\nIn an exploratory analysis, here we'll use data in the Atlas of Living Australia (ALA) to investigate how historical and ongoing differences in attitudes towards dingo conservation affect where and how often dingo observations are recorded.\n\n\n\n# Summarise observations\n\nLet's start by seeing how many observations of dingoes are in the ALA and where they are.\n\n::: {layout-ncol=\"3\" style=\"margin-left: auto; martin-right: auto;\"}\n<img src=\"https://ala-images.s3.ap-southeast-2.amazonaws.com/store/5/5/b/b/19578b8d-f8a3-4ae8-a139-60f9d4d6bb55/original\" class=\"rounded\"/></img>\n\n<img src=\"https://ala-images.s3.ap-southeast-2.amazonaws.com/store/c/8/a/5/2716b0eb-0d0f-41cd-9c33-d517f45e5a8c/original\" class=\"rounded\"/></img>\n\n<img src=\"https://ala-images.s3.ap-southeast-2.amazonaws.com/store/3/2/4/a/5f426a63-4b4f-4def-b6ed-14316b40a423/original\" class=\"rounded\"/></img>\n:::\n\n::: figure-caption\nLeft: [*Canis familiaris* (Michael Hains CC-BY-NC 3.0 (Au)](https://biocache.ala.org.au/occurrences/4d4a1b5d-f70f-4286-9282-3c325cdf2646), Middle: [*Canis familiaris* (GibberGavin CC-BY-NC 4.0 (Int))](https://biocache.ala.org.au/occurrences/24b77a44-2a8d-4d16-a4e3-41823d1fc8ca), Right: [*Canis familiaris* (Danial Moore CC-BY-NC 3.0 (Au))](https://biocache.ala.org.au/occurrences/64cc4167-9f4f-495c-b4be-b0a5e2ca57de)\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# packages\nlibrary(galah)\nlibrary(tidyverse)\nlibrary(ozmaps)\nlibrary(sf)\nlibrary(patchwork)\nlibrary(here)\nlibrary(rmapshaper)\nlibrary(ggpointdensity)\nlibrary(glue)\nlibrary(ggtext)\n```\n:::\n\n\n### Find which fields to use\n\nWe'll use the [{galah} package](http://galah.ala.org.au/) to download our data. Because **Canis familiaris** is the taxonomic name of both dingoes and dogs, if we only search using the scientific name, we'll likely return more than just dingo records. To fix this, let's filter our records to those specified by the data provider with the name common name \"Dingo\". \n\n:::(.aside)\nOne can imagine that sometimes data might be collected without specifying the name \"Dingo\" (either due to uncertainty or a lack of specificity in the survey), which, if true, suggests there might be observations of dingoes that were observed but never recorded in the data (though it's hard to know for sure)\n:::\n\nLet's use `search_fields()` to help us find which fields we can use to filter the taxonomic name. There are a few options, but the `raw_vernacularName` field seems to hold original common names specified by data providers.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsearch_fields(\"common name\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 4\n  id                   description                                   type  link \n  <chr>                <chr>                                         <chr> <chr>\n1 common_name_and_lsid Concatenation of common name and LSID, usefu… fiel… <NA> \n2 vernacularName       The common name the ALA has matched this rec… fiel… <NA> \n3 names_and_lsid       Concatenation of common name and LSID, usefu… fiel… <NA> \n4 raw_vernacularName   The original common name value supplied by t… fiel… <NA> \n```\n:::\n\n```{.r .cell-code}\nsearch_fields(\"raw_vernacularName\") |> search_values(\"dingo\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 2\n  field              category           \n  <chr>              <chr>              \n1 raw_vernacularName Dingo, domestic dog\n2 raw_vernacularName Dingo              \n3 raw_vernacularName Dingo & Dog (feral)\n4 raw_vernacularName dingo              \n```\n:::\n:::\n\n\nWe can use the same method to find a field that contains states & territories.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsearch_fields(\"australian states\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 4\n  id     description                                                 type  link \n  <chr>  <chr>                                                       <chr> <chr>\n1 cl2013 ASGS Australian States and Territories Australian Statisti… laye… http…\n2 cl22   Australian States and Territories Australian States and Te… laye… http…\n```\n:::\n\n```{.r .cell-code}\nsearch_fields(\"cl22\") |> show_values()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 11 × 2\n   field category                    \n   <chr> <chr>                       \n 1 cl22  New South Wales             \n 2 cl22  Victoria                    \n 3 cl22  Queensland                  \n 4 cl22  South Australia             \n 5 cl22  Western Australia           \n 6 cl22  Northern Territory          \n 7 cl22  Australian Capital Territory\n 8 cl22  Tasmania                    \n 9 cl22  Unknown1                    \n10 cl22  Ashmore and Cartier Islands \n11 cl22  Coral Sea Islands           \n```\n:::\n:::\n\n\n\n### State observations\n\nWe'll download the number of dingo observations in each state/territory with `atlas_counts()` and arrange the resulting counts in descending order. \n\nAround 75% of dingo observations are recorded in the Northern Territory and South Australia.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndingo_counts <- galah_call() |>\n  galah_identify(\"canis familiaris\") |>\n  galah_filter(raw_vernacularName == c(\"Dingo\", \"dingo\")) |>\n  galah_group_by(cl22) |>\n  # galah_apply_profile(ALA) |> # set of data quality filters\n  atlas_counts() |>\n  arrange(desc(count))\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 7 × 2\n  cl22                         count\n  <chr>                        <int>\n1 Northern Territory            6155\n2 South Australia               2933\n3 Queensland                    1283\n4 New South Wales               1110\n5 Victoria                       412\n6 Western Australia              130\n7 Australian Capital Territory     4\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Add map of australia\naus <- ozmap_data(data = \"states\")\n\n# Join state counts to our map\nstate_counts <- aus %>%\n  full_join(dingo_counts, by = c(\"NAME\" = \"cl22\"))\n\n# log-transform data to scale counts for nicer plotting\nlogged_counts <- state_counts |>\n  mutate(log = log10(count))|>\n  replace_na(list(log = 0))\n\n# plot\nggplot() +\n  geom_sf(data = logged_counts,\n          mapping = aes(fill = log)) +\n  geom_sf_text(data = logged_counts,\n               aes(label = count),\n               colour = \"white\",\n               size = 8,\n               fun.geometry = sf::st_centroid) +\n  scale_fill_distiller(palette = \"OrRd\", direction = 1) +\n  labs(x = \"Longitude\", y = \"Latitude\") +\n  theme_void() + \n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](post_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n\n### Data providers\n\nNext let's find out who the main data providers are of dingo observations to see whether observations come from citizen science programs or state monitoring programs. We'll filter to only display providers that have provided more than 5 observations of dingoes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_providers <- galah_call() |>\n  galah_identify(\"canis familiaris\") |>\n  galah_filter(raw_vernacularName == c(\"Dingo\", \"dingo\")) |>\n  galah_group_by(dataResourceName)|>\n  galah_apply_profile(ALA) |>\n  atlas_counts()\n\ncounts_filtered <- data_providers |>\n  filter(count > 5)\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 9 × 2\n  dataResourceName                                           count\n  <chr>                                                      <int>\n1 Fauna Atlas N.T.                                            4867\n2 SA Fauna (BDBSA)                                            2832\n3 Australian National Wildlife Collection provider for OZCAM  2035\n4 WildNet - Queensland Wildlife Data                          1120\n5 NSW BioNet Atlas                                            1053\n6 Victorian Biodiversity Atlas                                 101\n7 Australian Museum provider for OZCAM                          76\n8 Museums Victoria provider for OZCAM                           36\n9 Northern Gulf Fauna Survey                                    18\n```\n:::\n:::\n\n\n\nWe can also check to see where each data provider's observations are recorded. We'll download dingo observations using `atlas_occurrences()`. Then we'll filter our observations to only those supplied by providers in `counts_filtered`.\n\nYou will need to first provide a [registered email with the ALA](https://auth.ala.org.au/userdetails/registration/createAccount) using `galah_config()` before retrieving records.\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndingo_obs <- galah_call()|>\n  galah_identify(\"canis familiaris\") |>\n  galah_filter(raw_vernacularName == c(\"Dingo\", \"dingo\")) |>\n  galah_apply_profile(ALA) |>\n  atlas_occurrences()\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 12,155 × 8\n   decimal…¹ decim…² eventDate           scien…³ taxon…⁴ recor…⁵ dataR…⁶ occur…⁷\n       <dbl>   <dbl> <dttm>              <chr>   <chr>   <chr>   <chr>   <chr>  \n 1     -39      146. NA                  Canis … https:… 902931… Museum… PRESENT\n 2     -39      146. NA                  Canis … https:… e8fc34… Museum… PRESENT\n 3     -39      146. NA                  Canis … https:… 091e59… Museum… PRESENT\n 4     -38.6    143. 1866-03-26 13:55:08 Canis … https:… 13bd89… Victor… PRESENT\n 5     -38.4    146. NA                  Canis … https:… 5b05ba… Museum… PRESENT\n 6     -38.4    144. 1864-12-31 13:55:08 Canis … https:… c9f581… Victor… PRESENT\n 7     -38.4    143. 1886-08-31 13:55:08 Canis … https:… 4cf713… Victor… PRESENT\n 8     -38.4    146. NA                  Canis … https:… 8ef4ea… Museum… PRESENT\n 9     -38.1    142. 1886-01-22 13:55:08 Canis … https:… 7deaea… Victor… PRESENT\n10     -38.1    146. 1973-04-12 14:00:00 Canis … https:… 00a9e4… Austra… PRESENT\n# … with 12,145 more rows, and abbreviated variable names ¹​decimalLatitude,\n#   ²​decimalLongitude, ³​scientificName, ⁴​taxonConceptID, ⁵​recordID,\n#   ⁶​dataResourceName, ⁷​occurrenceStatus\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npoints_filtered <- dingo_obs |>\n  filter(dataResourceName %in% counts_filtered$dataResourceName)\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 12,138 × 8\n   decimal…¹ decim…² eventDate           scien…³ taxon…⁴ recor…⁵ dataR…⁶ occur…⁷\n       <dbl>   <dbl> <dttm>              <chr>   <chr>   <chr>   <chr>   <chr>  \n 1     -39      146. NA                  Canis … https:… 902931… Museum… PRESENT\n 2     -39      146. NA                  Canis … https:… e8fc34… Museum… PRESENT\n 3     -39      146. NA                  Canis … https:… 091e59… Museum… PRESENT\n 4     -38.6    143. 1866-03-26 13:55:08 Canis … https:… 13bd89… Victor… PRESENT\n 5     -38.4    146. NA                  Canis … https:… 5b05ba… Museum… PRESENT\n 6     -38.4    144. 1864-12-31 13:55:08 Canis … https:… c9f581… Victor… PRESENT\n 7     -38.4    143. 1886-08-31 13:55:08 Canis … https:… 4cf713… Victor… PRESENT\n 8     -38.4    146. NA                  Canis … https:… 8ef4ea… Museum… PRESENT\n 9     -38.1    142. 1886-01-22 13:55:08 Canis … https:… 7deaea… Victor… PRESENT\n10     -38.1    146. 1973-04-12 14:00:00 Canis … https:… 00a9e4… Austra… PRESENT\n# … with 12,128 more rows, and abbreviated variable names ¹​decimalLatitude,\n#   ²​decimalLongitude, ³​scientificName, ⁴​taxonConceptID, ⁵​recordID,\n#   ⁶​dataResourceName, ⁷​occurrenceStatus\n```\n:::\n:::\n\n\n\nWe'll create a bar plot and a map of observations to visualise where dingoes are seen and who records them. \n\nJust five data providers account for ~98% of dingo records, with Fauna Atlas N. T. contributing ~40% of records. All major data providers are government monitoring programs, rather than citizen science providers like iNaturalist. \n\n\n::: {.cell .column-page layout-nrow=\"1\" layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\ncounts_filtered %>%\n  ggplot(aes(x = reorder(str_wrap(dataResourceName, 28), count), \n             y = count, fill = dataResourceName)) +\n    geom_bar(stat=\"identity\", width=.8) +\n    scale_fill_manual(values = c(\n    \"Museums Victoria provider for OZCAM\" = \"#604830\", \n    \"Victorian Biodiversity Atlas\" = \"#486030\", \n    \"Australian National Wildlife Collection provider for OZCAM\" = \"#6090d8\", \n    \"NSW BioNet Atlas\" = \"#604830\", \n    \"WildNet - Queensland Wildlife Data\" = \"#6fab3f\",\n    \"SA Fauna (BDBSA)\" = \"#d89060\", \n    \"Australian Museum provider for OZCAM\" = \"#FFC300\", \n    \"Fauna Atlas N.T.\" = \"#a84830\")) +\n  scale_x_discrete(expand = c(0,0)) +\n  scale_y_continuous(labels = scales::label_comma()) +\n    coord_flip() +\n    xlab(\"\") +\n    pilot::theme_pilot(grid = \"v\",\n                       axes = \"b\") + \n  theme(legend.position = \"none\",\n        axis.text = element_text(size = 12))\n```\n\n::: {.cell-output-display}\n![](post_files/figure-html/unnamed-chunk-20-1.png){fig-align='center' width=672}\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\n# bar_plot\n\nggplot() +\n  geom_sf(data = aus, fill = \"#FBFBEF\") +\n  geom_point(data = points_filtered,\n             mapping = aes(x = decimalLongitude,\n                           y = decimalLatitude,\n                           colour = dataResourceName),\n             alpha = 0.25) +\n  scale_color_manual(values = c(\n    \"Museums Victoria provider for OZCAM\" = \"#604830\", \n    \"Victorian Biodiversity Atlas\" = \"#486030\", \n    \"Australian National Wildlife Collection provider for OZCAM\" = \"#6090d8\",\n    \"NSW BioNet Atlas\" = \"#604830\", \n    \"WildNet - Queensland Wildlife Data\" = \"#6fab3f\",\n    \"SA Fauna (BDBSA)\" = \"#d89060\", \n    \"Australian Museum provider for OZCAM\" = \"#FFC300\", \n    \"Fauna Atlas N.T.\" = \"#a84830\")) +\n  theme_void() +\n  coord_sf(ylim = c(-45, -10), \n           xlim = c(110, 155)) +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](post_files/figure-html/unnamed-chunk-20-2.png){fig-align='center' width=672}\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\n# # Plot bar plot and map\n# bar_plot + data_providers + \n#   plot_annotation(\n#     title = \"Data Providers of Dingo Observations\"\n#   ) + \n#   plot_layout(widths = c(1, 3),\n#               heights = c(2, 1))\n```\n:::\n\n\nGovernment monitoring programs provide regular and reliable data. However, [incidental observations from citizen scientists can fill gaps in species distribution data](https://ecoevorxiv.org/repository/view/3650/). \n\nIt's also possible that differences between states/territories attitudes towards dingoes and their conservation status between states/territories affect the amount of data recorded of dingo observations. For example, the Northern Territory is the only state in Australia that recognizes dingoes as a protected species. Other states like Western Australia, New South Wales, Queensland and South Australia consider dingoes outside the Dog Fence an unprotected native animal and inside the Dingo Fence a pest species under the National Parks and Wildlife Act 1972. These differences in legislation between states might help to explain why the highest numbers of observations are in areas that recognize dingoes as protected.\n\n\n\n\n\n\n<details><summary style = \"color: #E06E53;\">Expand for session info</summary>\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.2.2 (2022-10-31 ucrt)\n os       Windows 10 x64 (build 19044)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  English_Australia.utf8\n ctype    English_Australia.utf8\n tz       Australia/Sydney\n date     2023-04-11\n pandoc   2.19.2 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package        * version date (UTC) lib source\n dplyr          * 1.1.0   2023-01-29 [1] CRAN (R 4.2.2)\n forcats        * 1.0.0   2023-01-29 [1] CRAN (R 4.2.2)\n galah          * 1.5.2   2023-03-20 [1] Github (AtlasOfLivingAustralia/galah@1b35520)\n ggplot2        * 3.4.1   2023-02-10 [1] CRAN (R 4.2.2)\n ggpointdensity * 0.1.0   2019-08-28 [1] CRAN (R 4.2.1)\n ggtext         * 0.1.2   2022-09-16 [1] CRAN (R 4.2.2)\n glue           * 1.6.2   2022-02-24 [1] CRAN (R 4.2.1)\n here           * 1.0.1   2020-12-13 [1] CRAN (R 4.2.1)\n htmltools      * 0.5.4   2022-12-07 [1] CRAN (R 4.2.2)\n lubridate      * 1.9.2   2023-02-10 [1] CRAN (R 4.2.2)\n ozmaps         * 0.4.5   2021-08-03 [1] CRAN (R 4.2.1)\n patchwork      * 1.1.2   2022-08-19 [1] CRAN (R 4.2.1)\n purrr          * 1.0.1   2023-01-10 [1] CRAN (R 4.2.2)\n readr          * 2.1.4   2023-02-10 [1] CRAN (R 4.2.2)\n rmapshaper     * 0.4.6   2022-05-10 [1] CRAN (R 4.2.1)\n sessioninfo    * 1.2.2   2021-12-06 [1] CRAN (R 4.2.1)\n sf             * 1.0-9   2022-11-08 [1] CRAN (R 4.2.2)\n stringr        * 1.5.0   2022-12-02 [1] CRAN (R 4.2.2)\n tibble         * 3.1.8   2022-07-22 [1] CRAN (R 4.2.1)\n tidyr          * 1.3.0   2023-01-24 [1] CRAN (R 4.2.2)\n tidyverse      * 2.0.0   2023-02-22 [1] CRAN (R 4.2.2)\n\n [1] C:/Users/KEL329/R-packages\n [2] C:/Users/KEL329/AppData/Local/Programs/R/R-4.2.2/library\n\n──────────────────────────────────────────────────────────────────────────────\n```\n:::\n:::\n\n\n</details>\n",
    "supporting": [
      "post_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}